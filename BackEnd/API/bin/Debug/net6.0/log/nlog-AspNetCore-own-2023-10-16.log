{ "time": "2023-10-16 00:15:51.7146", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'TotalPrice' on entity type 'UserInfoDTO'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "TotalPrice", "entityType": "UserInfoDTO", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 00:15:51.7228", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "OrderDetail", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 00:15:51.7228", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "Product", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 00:15:52.2507", "event": "20102", "level": "ERROR", "logger": "Microsoft.EntityFrameworkCore.Database.Command", "message": "Failed executing DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']\r\nCREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "elapsed": "23", "parameters": "", "commandType": "Text", "commandTimeout": 30, "newLine": "\r\n", "commandText": "CREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "EventId": 20102, "EventName": "Microsoft.EntityFrameworkCore.Database.Command.CommandError" }
{ "time": "2023-10-16 00:15:52.2550", "event": "0", "level": "ERROR", "logger": "Program", "message": "An error occured during migration", "exception": "Microsoft.Data.SqlClient.SqlException (0x80131904): Column 'Orders.Id' is not the same data type as referencing column 'Carts.OrderId' in foreign key 'FK_Carts_Orders_OrderId'.\r\nCould not create constraint or index. See previous errors.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)\r\n   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at Program.<Main>$(String[] args) in D:\\ThucTap\\OrderFood\\BackEnd\\api\\Program.cs:line 52\r\nClientConnectionId:b4c23bc4-a1e7-49a6-97b8-ed440bb22a8c\r\nError Number:1778,State:0,Class:16" }
{ "time": "2023-10-16 00:15:52.4966", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: http://localhost:5000", "address": "http://localhost:5000", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-16 00:15:52.4966", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: https://localhost:5001", "address": "https://localhost:5001", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-16 00:15:52.4966", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Application started. Press Ctrl+C to shut down." }
{ "time": "2023-10-16 00:15:52.5010", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Hosting environment: Development", "envName": "Development" }
{ "time": "2023-10-16 00:15:52.5010", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Content root path: D:\\ThucTap\\OrderFood\\BackEnd\\api\\", "contentRoot": "D:\\ThucTap\\OrderFood\\BackEnd\\api\\" }
{ "time": "2023-10-16 00:16:00.8316", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'TotalPrice' on entity type 'UserInfoDTO'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "TotalPrice", "entityType": "UserInfoDTO", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 00:16:00.8316", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "OrderDetail", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 00:16:00.8316", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "Product", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 00:16:01.9721", "event": "20102", "level": "ERROR", "logger": "Microsoft.EntityFrameworkCore.Database.Command", "message": "Failed executing DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']\r\nCREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "elapsed": "11", "parameters": "", "commandType": "Text", "commandTimeout": 30, "newLine": "\r\n", "commandText": "CREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "EventId": 20102, "EventName": "Microsoft.EntityFrameworkCore.Database.Command.CommandError" }
{ "time": "2023-10-16 00:16:01.9787", "event": "0", "level": "ERROR", "logger": "Program", "message": "An error occured during migration", "exception": "Microsoft.Data.SqlClient.SqlException (0x80131904): Column 'Orders.Id' is not the same data type as referencing column 'Carts.OrderId' in foreign key 'FK_Carts_Orders_OrderId'.\r\nCould not create constraint or index. See previous errors.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)\r\n   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at Program.<Main>$(String[] args) in D:\\ThucTap\\OrderFood\\BackEnd\\api\\Program.cs:line 52\r\nClientConnectionId:ad65bdaf-cebb-47ec-8cf8-a2a8208d6304\r\nError Number:1778,State:0,Class:16" }
{ "time": "2023-10-16 00:16:02.1707", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: http://localhost:5000", "address": "http://localhost:5000", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-16 00:16:02.1707", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: https://localhost:5001", "address": "https://localhost:5001", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-16 00:16:02.1707", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Application started. Press Ctrl+C to shut down." }
{ "time": "2023-10-16 00:16:02.1707", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Hosting environment: Development", "envName": "Development" }
{ "time": "2023-10-16 00:16:02.1707", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Content root path: D:\\ThucTap\\OrderFood\\BackEnd\\api\\", "contentRoot": "D:\\ThucTap\\OrderFood\\BackEnd\\api\\" }
{ "time": "2023-10-16 10:08:52.8050", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'TotalPrice' on entity type 'UserInfoDTO'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "TotalPrice", "entityType": "UserInfoDTO", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 10:08:52.9546", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "OrderDetail", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 10:08:52.9546", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "Product", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 10:08:56.9314", "event": "20102", "level": "ERROR", "logger": "Microsoft.EntityFrameworkCore.Database.Command", "message": "Failed executing DbCommand (35ms) [Parameters=[], CommandType='Text', CommandTimeout='30']\r\nCREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "elapsed": "35", "parameters": "", "commandType": "Text", "commandTimeout": 30, "newLine": "\r\n", "commandText": "CREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "EventId": 20102, "EventName": "Microsoft.EntityFrameworkCore.Database.Command.CommandError" }
{ "time": "2023-10-16 10:08:57.0670", "event": "0", "level": "ERROR", "logger": "Program", "message": "An error occured during migration", "exception": "Microsoft.Data.SqlClient.SqlException (0x80131904): Column 'Orders.Id' is not the same data type as referencing column 'Carts.OrderId' in foreign key 'FK_Carts_Orders_OrderId'.\r\nCould not create constraint or index. See previous errors.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)\r\n   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at Program.<Main>$(String[] args) in D:\\ThucTap\\OrderFood\\BackEnd\\API\\Program.cs:line 52\r\nClientConnectionId:038b6ff9-144c-494e-89a4-1ff7e0af7d46\r\nError Number:1778,State:0,Class:16" }
{ "time": "2023-10-16 10:08:57.6106", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: http://localhost:5000", "address": "http://localhost:5000", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-16 10:08:57.6232", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: https://localhost:5001", "address": "https://localhost:5001", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-16 10:08:57.6232", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Application started. Press Ctrl+C to shut down." }
{ "time": "2023-10-16 10:08:57.6232", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Hosting environment: Development", "envName": "Development" }
{ "time": "2023-10-16 10:08:57.6232", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Content root path: D:\\ThucTap\\OrderFood\\BackEnd\\API\\", "contentRoot": "D:\\ThucTap\\OrderFood\\BackEnd\\API\\" }
{ "time": "2023-10-16 14:43:43.8530", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'TotalPrice' on entity type 'UserInfoDTO'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "TotalPrice", "entityType": "UserInfoDTO", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 14:43:43.8840", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "OrderDetail", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 14:43:43.8840", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "Product", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 14:43:46.3181", "event": "20102", "level": "ERROR", "logger": "Microsoft.EntityFrameworkCore.Database.Command", "message": "Failed executing DbCommand (35ms) [Parameters=[], CommandType='Text', CommandTimeout='30']\r\nCREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "elapsed": "35", "parameters": "", "commandType": "Text", "commandTimeout": 30, "newLine": "\r\n", "commandText": "CREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "EventId": 20102, "EventName": "Microsoft.EntityFrameworkCore.Database.Command.CommandError" }
{ "time": "2023-10-16 14:43:46.4537", "event": "0", "level": "ERROR", "logger": "Program", "message": "An error occured during migration", "exception": "Microsoft.Data.SqlClient.SqlException (0x80131904): Column 'Orders.Id' is not the same data type as referencing column 'Carts.OrderId' in foreign key 'FK_Carts_Orders_OrderId'.\r\nCould not create constraint or index. See previous errors.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)\r\n   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at Program.<Main>$(String[] args) in D:\\ThucTap\\OrderFood\\BackEnd\\API\\Program.cs:line 52\r\nClientConnectionId:6dc69a3e-edf2-472a-94bd-5fa47e5acd8f\r\nError Number:1778,State:0,Class:16" }
{ "time": "2023-10-16 14:43:47.0041", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: http://localhost:5000", "address": "http://localhost:5000", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-16 14:43:47.0186", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: https://localhost:5001", "address": "https://localhost:5001", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-16 14:43:47.0186", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Application started. Press Ctrl+C to shut down." }
{ "time": "2023-10-16 14:43:47.0186", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Hosting environment: Development", "envName": "Development" }
{ "time": "2023-10-16 14:43:47.0186", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Content root path: D:\\ThucTap\\OrderFood\\BackEnd\\API\\", "contentRoot": "D:\\ThucTap\\OrderFood\\BackEnd\\API\\" }
{ "time": "2023-10-16 14:43:54.7828", "event": "10100", "level": "ERROR", "logger": "Microsoft.EntityFrameworkCore.Query", "message": "An exception occurred while iterating over the results of a query for context type 'API.Entities.ApplicationDbContext'.\r\nSystem.InvalidOperationException: The required column 'Descriptions' was not present in the results of a 'FromSql' operation.\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.MoveNext()", "exception": "System.InvalidOperationException: The required column 'Descriptions' was not present in the results of a 'FromSql' operation.\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.MoveNext()", "url": "https://localhost/api/Category/GetAllCategory", "action": "GetCategory", "contextType": "API.Entities.ApplicationDbContext", "newline": "\r\n", "error": {"Type":"System.InvalidOperationException", "TargetSite":"Int32[] BuildIndexMap(System.Collections.Generic.IReadOnlyList`1[System.String], System.Data.Common.DbDataReader)", "Message":"The required column 'Descriptions' was not present in the results of a 'FromSql' operation.", "Data":{}, "Source":"Microsoft.EntityFrameworkCore.Relational", "HResult":-2146233079, "StackTrace":"   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.MoveNext()"}, "EventId": 10100, "EventName": "Microsoft.EntityFrameworkCore.Query.QueryIterationFailed" }
{ "time": "2023-10-16 14:43:54.8911", "event": "1", "level": "ERROR", "logger": "Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware", "message": "An unhandled exception has occurred while executing the request.", "exception": "System.InvalidOperationException: The required column 'Descriptions' was not present in the results of a 'FromSql' operation.\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.MoveNext()\r\n   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)\r\n   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)\r\n   at API.Entities.ApplicationDbContext.GetCategories(String restaurantName) in D:\\ThucTap\\OrderFood\\BackEnd\\API\\Entities\\ApplicationDbContext.cs:line 70\r\n   at API.Controllers.CategoryController.GetCategory(String restaurantName) in D:\\ThucTap\\OrderFood\\BackEnd\\API\\Controllers\\CategoryController.cs:line 19\r\n   at lambda_method21(Closure , Object )\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)", "url": "https://localhost/api/Category/GetAllCategory", "action": "GetCategory", "EventId": 1, "EventName": "UnhandledException" }
{ "time": "2023-10-16 14:48:23.0909", "event": "10100", "level": "ERROR", "logger": "Microsoft.EntityFrameworkCore.Query", "message": "An exception occurred while iterating over the results of a query for context type 'API.Entities.ApplicationDbContext'.\r\nSystem.InvalidOperationException: The required column 'Id' was not present in the results of a 'FromSql' operation.\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.MoveNext()", "exception": "System.InvalidOperationException: The required column 'Id' was not present in the results of a 'FromSql' operation.\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.MoveNext()", "url": "https://localhost/api/Category/GetAllCategory", "action": "GetCategory", "contextType": "API.Entities.ApplicationDbContext", "newline": "\r\n", "error": {"Type":"System.InvalidOperationException", "TargetSite":"Int32[] BuildIndexMap(System.Collections.Generic.IReadOnlyList`1[System.String], System.Data.Common.DbDataReader)", "Message":"The required column 'Id' was not present in the results of a 'FromSql' operation.", "Data":{}, "Source":"Microsoft.EntityFrameworkCore.Relational", "HResult":-2146233079, "StackTrace":"   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.MoveNext()"}, "EventId": 10100, "EventName": "Microsoft.EntityFrameworkCore.Query.QueryIterationFailed" }
{ "time": "2023-10-16 14:48:23.1375", "event": "1", "level": "ERROR", "logger": "Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware", "message": "An unhandled exception has occurred while executing the request.", "exception": "System.InvalidOperationException: The required column 'Id' was not present in the results of a 'FromSql' operation.\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.MoveNext()\r\n   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)\r\n   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)\r\n   at API.Entities.ApplicationDbContext.GetCategories(String restaurantName) in D:\\ThucTap\\OrderFood\\BackEnd\\API\\Entities\\ApplicationDbContext.cs:line 70\r\n   at API.Controllers.CategoryController.GetCategory(String restaurantName) in D:\\ThucTap\\OrderFood\\BackEnd\\API\\Controllers\\CategoryController.cs:line 19\r\n   at lambda_method21(Closure , Object )\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)", "url": "https://localhost/api/Category/GetAllCategory", "action": "GetCategory", "EventId": 1, "EventName": "UnhandledException" }
{ "time": "2023-10-16 14:48:24.0692", "event": "10100", "level": "ERROR", "logger": "Microsoft.EntityFrameworkCore.Query", "message": "An exception occurred while iterating over the results of a query for context type 'API.Entities.ApplicationDbContext'.\r\nSystem.InvalidOperationException: The required column 'Id' was not present in the results of a 'FromSql' operation.\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.MoveNext()", "exception": "System.InvalidOperationException: The required column 'Id' was not present in the results of a 'FromSql' operation.\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.MoveNext()", "url": "https://localhost/api/Category/GetAllCategory", "action": "GetCategory", "contextType": "API.Entities.ApplicationDbContext", "newline": "\r\n", "error": {"Type":"System.InvalidOperationException", "TargetSite":"Int32[] BuildIndexMap(System.Collections.Generic.IReadOnlyList`1[System.String], System.Data.Common.DbDataReader)", "Message":"The required column 'Id' was not present in the results of a 'FromSql' operation.", "Data":{}, "Source":"Microsoft.EntityFrameworkCore.Relational", "HResult":-2146233079, "StackTrace":"   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.MoveNext()"}, "EventId": 10100, "EventName": "Microsoft.EntityFrameworkCore.Query.QueryIterationFailed" }
{ "time": "2023-10-16 14:48:24.1120", "event": "1", "level": "ERROR", "logger": "Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware", "message": "An unhandled exception has occurred while executing the request.", "exception": "System.InvalidOperationException: The required column 'Id' was not present in the results of a 'FromSql' operation.\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.MoveNext()\r\n   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)\r\n   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)\r\n   at API.Entities.ApplicationDbContext.GetCategories(String restaurantName) in D:\\ThucTap\\OrderFood\\BackEnd\\API\\Entities\\ApplicationDbContext.cs:line 70\r\n   at API.Controllers.CategoryController.GetCategory(String restaurantName) in D:\\ThucTap\\OrderFood\\BackEnd\\API\\Controllers\\CategoryController.cs:line 19\r\n   at lambda_method21(Closure , Object )\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)", "url": "https://localhost/api/Category/GetAllCategory", "action": "GetCategory", "EventId": 1, "EventName": "UnhandledException" }
{ "time": "2023-10-16 14:48:25.0098", "event": "10100", "level": "ERROR", "logger": "Microsoft.EntityFrameworkCore.Query", "message": "An exception occurred while iterating over the results of a query for context type 'API.Entities.ApplicationDbContext'.\r\nSystem.InvalidOperationException: The required column 'Id' was not present in the results of a 'FromSql' operation.\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.MoveNext()", "exception": "System.InvalidOperationException: The required column 'Id' was not present in the results of a 'FromSql' operation.\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.MoveNext()", "url": "https://localhost/api/Category/GetAllCategory", "action": "GetCategory", "contextType": "API.Entities.ApplicationDbContext", "newline": "\r\n", "error": {"Type":"System.InvalidOperationException", "TargetSite":"Int32[] BuildIndexMap(System.Collections.Generic.IReadOnlyList`1[System.String], System.Data.Common.DbDataReader)", "Message":"The required column 'Id' was not present in the results of a 'FromSql' operation.", "Data":{}, "Source":"Microsoft.EntityFrameworkCore.Relational", "HResult":-2146233079, "StackTrace":"   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.MoveNext()"}, "EventId": 10100, "EventName": "Microsoft.EntityFrameworkCore.Query.QueryIterationFailed" }
{ "time": "2023-10-16 14:48:25.0611", "event": "1", "level": "ERROR", "logger": "Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware", "message": "An unhandled exception has occurred while executing the request.", "exception": "System.InvalidOperationException: The required column 'Id' was not present in the results of a 'FromSql' operation.\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.MoveNext()\r\n   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)\r\n   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)\r\n   at API.Entities.ApplicationDbContext.GetCategories(String restaurantName) in D:\\ThucTap\\OrderFood\\BackEnd\\API\\Entities\\ApplicationDbContext.cs:line 70\r\n   at API.Controllers.CategoryController.GetCategory(String restaurantName) in D:\\ThucTap\\OrderFood\\BackEnd\\API\\Controllers\\CategoryController.cs:line 19\r\n   at lambda_method21(Closure , Object )\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)", "url": "https://localhost/api/Category/GetAllCategory", "action": "GetCategory", "EventId": 1, "EventName": "UnhandledException" }
{ "time": "2023-10-16 14:50:45.1526", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'TotalPrice' on entity type 'UserInfoDTO'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "TotalPrice", "entityType": "UserInfoDTO", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 14:50:45.1794", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "OrderDetail", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 14:50:45.1794", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "Product", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 14:50:47.2256", "event": "20102", "level": "ERROR", "logger": "Microsoft.EntityFrameworkCore.Database.Command", "message": "Failed executing DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']\r\nCREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "elapsed": "37", "parameters": "", "commandType": "Text", "commandTimeout": 30, "newLine": "\r\n", "commandText": "CREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "EventId": 20102, "EventName": "Microsoft.EntityFrameworkCore.Database.Command.CommandError" }
{ "time": "2023-10-16 14:50:47.3309", "event": "0", "level": "ERROR", "logger": "Program", "message": "An error occured during migration", "exception": "Microsoft.Data.SqlClient.SqlException (0x80131904): Column 'Orders.Id' is not the same data type as referencing column 'Carts.OrderId' in foreign key 'FK_Carts_Orders_OrderId'.\r\nCould not create constraint or index. See previous errors.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)\r\n   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at Program.<Main>$(String[] args) in D:\\ThucTap\\OrderFood\\BackEnd\\API\\Program.cs:line 52\r\nClientConnectionId:821bb469-c57a-4612-8ebe-159d2e43a69b\r\nError Number:1778,State:0,Class:16" }
{ "time": "2023-10-16 14:50:48.0544", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: http://localhost:5000", "address": "http://localhost:5000", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-16 14:50:48.0706", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: https://localhost:5001", "address": "https://localhost:5001", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-16 14:50:48.0706", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Application started. Press Ctrl+C to shut down." }
{ "time": "2023-10-16 14:50:48.0706", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Hosting environment: Development", "envName": "Development" }
{ "time": "2023-10-16 14:50:48.0706", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Content root path: D:\\ThucTap\\OrderFood\\BackEnd\\API\\", "contentRoot": "D:\\ThucTap\\OrderFood\\BackEnd\\API\\" }
{ "time": "2023-10-16 22:06:30.2957", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'TotalPrice' on entity type 'UserInfoDTO'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "TotalPrice", "entityType": "UserInfoDTO", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 22:06:30.2957", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "OrderDetail", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 22:06:30.2957", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "Product", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 22:06:31.2291", "event": "20102", "level": "ERROR", "logger": "Microsoft.EntityFrameworkCore.Database.Command", "message": "Failed executing DbCommand (33ms) [Parameters=[], CommandType='Text', CommandTimeout='30']\r\nCREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "elapsed": "33", "parameters": "", "commandType": "Text", "commandTimeout": 30, "newLine": "\r\n", "commandText": "CREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "EventId": 20102, "EventName": "Microsoft.EntityFrameworkCore.Database.Command.CommandError" }
{ "time": "2023-10-16 22:06:31.2844", "event": "0", "level": "ERROR", "logger": "Program", "message": "An error occured during migration", "exception": "Microsoft.Data.SqlClient.SqlException (0x80131904): Column 'Orders.Id' is not the same data type as referencing column 'Carts.OrderId' in foreign key 'FK_Carts_Orders_OrderId'.\r\nCould not create constraint or index. See previous errors.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)\r\n   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at Program.<Main>$(String[] args) in D:\\ThucTap\\OrderFood\\BackEnd\\API\\Program.cs:line 52\r\nClientConnectionId:97750533-f5fe-4d86-a214-b86d240a780c\r\nError Number:1778,State:0,Class:16" }
{ "time": "2023-10-16 22:06:31.4833", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: http://localhost:5000", "address": "http://localhost:5000", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-16 22:06:31.4833", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: https://localhost:5001", "address": "https://localhost:5001", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-16 22:06:31.4833", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Application started. Press Ctrl+C to shut down." }
{ "time": "2023-10-16 22:06:31.4833", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Hosting environment: Development", "envName": "Development" }
{ "time": "2023-10-16 22:06:31.4833", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Content root path: D:\\ThucTap\\OrderFood\\BackEnd\\API\\", "contentRoot": "D:\\ThucTap\\OrderFood\\BackEnd\\API\\" }
{ "time": "2023-10-16 22:12:17.0075", "event": "0", "level": "ERROR", "logger": "Program", "message": "An error occured during migration", "exception": "System.InvalidOperationException: The key {'Id'} cannot be removed from the entity type 'ProductDto' because it is defined on the entity type 'Product'.\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.EntityType.RemoveKey(Key key)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.InternalEntityTypeBuilder.HasNoKey(Key key, ConfigurationSource configurationSource)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.InternalEntityTypeBuilder.HasNoKey(ConfigurationSource configurationSource)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Builders.EntityTypeBuilder`1.HasNoKey()\r\n   at API.Entities.ApplicationDbContext.OnModelCreating(ModelBuilder modelBuilder) in D:\\ThucTap\\OrderFood\\BackEnd\\API\\Entities\\ApplicationDbContext.cs:line 94\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)\r\n   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)\r\n   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)\r\n   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()\r\n   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()\r\n   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Infrastructure.IInfrastructure<System.IServiceProvider>.get_Instance()\r\n   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetRelationalService[TService](IInfrastructure`1 databaseFacade)\r\n   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.MigrateAsync(DatabaseFacade databaseFacade, CancellationToken cancellationToken)\r\n   at Program.<Main>$(String[] args) in D:\\ThucTap\\OrderFood\\BackEnd\\API\\Program.cs:line 52" }
{ "time": "2023-10-16 22:12:17.2284", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: http://localhost:5000", "address": "http://localhost:5000", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-16 22:12:17.2404", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: https://localhost:5001", "address": "https://localhost:5001", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-16 22:12:17.2404", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Application started. Press Ctrl+C to shut down." }
{ "time": "2023-10-16 22:12:17.2404", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Hosting environment: Development", "envName": "Development" }
{ "time": "2023-10-16 22:12:17.2404", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Content root path: D:\\ThucTap\\OrderFood\\BackEnd\\API\\", "contentRoot": "D:\\ThucTap\\OrderFood\\BackEnd\\API\\" }
{ "time": "2023-10-16 22:17:28.9359", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'TotalPrice' on entity type 'UserInfoDTO'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "TotalPrice", "entityType": "UserInfoDTO", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 22:17:28.9507", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "OrderDetail", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 22:17:28.9507", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "Product", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 22:17:30.1701", "event": "20102", "level": "ERROR", "logger": "Microsoft.EntityFrameworkCore.Database.Command", "message": "Failed executing DbCommand (32ms) [Parameters=[], CommandType='Text', CommandTimeout='30']\r\nCREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "elapsed": "32", "parameters": "", "commandType": "Text", "commandTimeout": 30, "newLine": "\r\n", "commandText": "CREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "EventId": 20102, "EventName": "Microsoft.EntityFrameworkCore.Database.Command.CommandError" }
{ "time": "2023-10-16 22:17:30.2455", "event": "0", "level": "ERROR", "logger": "Program", "message": "An error occured during migration", "exception": "Microsoft.Data.SqlClient.SqlException (0x80131904): Column 'Orders.Id' is not the same data type as referencing column 'Carts.OrderId' in foreign key 'FK_Carts_Orders_OrderId'.\r\nCould not create constraint or index. See previous errors.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)\r\n   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at Program.<Main>$(String[] args) in D:\\ThucTap\\OrderFood\\BackEnd\\API\\Program.cs:line 52\r\nClientConnectionId:f8ca2d4b-3a23-4ab4-a96f-28b645494885\r\nError Number:1778,State:0,Class:16" }
{ "time": "2023-10-16 22:17:30.7130", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: http://localhost:5000", "address": "http://localhost:5000", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-16 22:17:30.7190", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: https://localhost:5001", "address": "https://localhost:5001", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-16 22:17:30.7190", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Application started. Press Ctrl+C to shut down." }
{ "time": "2023-10-16 22:17:30.7190", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Hosting environment: Development", "envName": "Development" }
{ "time": "2023-10-16 22:17:30.7190", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Content root path: D:\\ThucTap\\OrderFood\\BackEnd\\API\\", "contentRoot": "D:\\ThucTap\\OrderFood\\BackEnd\\API\\" }
{ "time": "2023-10-16 22:17:36.4444", "event": "10100", "level": "ERROR", "logger": "Microsoft.EntityFrameworkCore.Query", "message": "An exception occurred while iterating over the results of a query for context type 'API.Entities.ApplicationDbContext'.\r\nSystem.InvalidOperationException: 'FromSqlRaw' or 'FromSqlInterpolated' was called with non-composable SQL and with a query composing over it. Consider calling 'AsEnumerable' after the method to perform the composition on the client side.\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.CheckComposableSql(String sql)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.VisitFromSql(FromSqlExpression fromSqlExpression)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerQuerySqlGenerator.VisitExtension(Expression extensionExpression)\r\n   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)\r\n   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.<VisitSelect>b__19_1(TableExpressionBase e)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.GenerateList[T](IReadOnlyList`1 items, Action`1 generationAction, Action`1 joinAction)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.VisitSelect(SelectExpression selectExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.GetCommand(SelectExpression selectExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalCommandCache.GetRelationalCommandTemplate(IReadOnlyDictionary`2 parameters)\r\n   at Microsoft.EntityFrameworkCore.Internal.RelationCommandCacheExtensions.RentAndPopulateRelationalCommand(RelationalCommandCache relationalCommandCache, RelationalQueryContext queryContext)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()", "exception": "System.InvalidOperationException: 'FromSqlRaw' or 'FromSqlInterpolated' was called with non-composable SQL and with a query composing over it. Consider calling 'AsEnumerable' after the method to perform the composition on the client side.\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.CheckComposableSql(String sql)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.VisitFromSql(FromSqlExpression fromSqlExpression)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerQuerySqlGenerator.VisitExtension(Expression extensionExpression)\r\n   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)\r\n   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.<VisitSelect>b__19_1(TableExpressionBase e)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.GenerateList[T](IReadOnlyList`1 items, Action`1 generationAction, Action`1 joinAction)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.VisitSelect(SelectExpression selectExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.GetCommand(SelectExpression selectExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalCommandCache.GetRelationalCommandTemplate(IReadOnlyDictionary`2 parameters)\r\n   at Microsoft.EntityFrameworkCore.Internal.RelationCommandCacheExtensions.RentAndPopulateRelationalCommand(RelationalCommandCache relationalCommandCache, RelationalQueryContext queryContext)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()", "url": "https://localhost/api/Product/GetListProduct", "action": "GetListProduct", "contextType": "API.Entities.ApplicationDbContext", "newline": "\r\n", "error": {"Type":"System.InvalidOperationException", "TargetSite":"Void CheckComposableSql(System.String)", "Message":"'FromSqlRaw' or 'FromSqlInterpolated' was called with non-composable SQL and with a query composing over it. Consider calling 'AsEnumerable' after the method to perform the composition on the client side.", "Data":{}, "Source":"Microsoft.EntityFrameworkCore.Relational", "HResult":-2146233079, "StackTrace":"   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.CheckComposableSql(String sql)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.VisitFromSql(FromSqlExpression fromSqlExpression)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerQuerySqlGenerator.VisitExtension(Expression extensionExpression)\r\n   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)\r\n   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.<VisitSelect>b__19_1(TableExpressionBase e)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.GenerateList[T](IReadOnlyList`1 items, Action`1 generationAction, Action`1 joinAction)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.VisitSelect(SelectExpression selectExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.GetCommand(SelectExpression selectExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalCommandCache.GetRelationalCommandTemplate(IReadOnlyDictionary`2 parameters)\r\n   at Microsoft.EntityFrameworkCore.Internal.RelationCommandCacheExtensions.RentAndPopulateRelationalCommand(RelationalCommandCache relationalCommandCache, RelationalQueryContext queryContext)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()"}, "EventId": 10100, "EventName": "Microsoft.EntityFrameworkCore.Query.QueryIterationFailed" }
{ "time": "2023-10-16 22:20:33.9287", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'TotalPrice' on entity type 'UserInfoDTO'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "TotalPrice", "entityType": "UserInfoDTO", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 22:20:33.9409", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "OrderDetail", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 22:20:33.9409", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "Product", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 22:20:34.8331", "event": "20102", "level": "ERROR", "logger": "Microsoft.EntityFrameworkCore.Database.Command", "message": "Failed executing DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']\r\nCREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "elapsed": "16", "parameters": "", "commandType": "Text", "commandTimeout": 30, "newLine": "\r\n", "commandText": "CREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "EventId": 20102, "EventName": "Microsoft.EntityFrameworkCore.Database.Command.CommandError" }
{ "time": "2023-10-16 22:20:34.8952", "event": "0", "level": "ERROR", "logger": "Program", "message": "An error occured during migration", "exception": "Microsoft.Data.SqlClient.SqlException (0x80131904): Column 'Orders.Id' is not the same data type as referencing column 'Carts.OrderId' in foreign key 'FK_Carts_Orders_OrderId'.\r\nCould not create constraint or index. See previous errors.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)\r\n   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at Program.<Main>$(String[] args) in D:\\ThucTap\\OrderFood\\BackEnd\\API\\Program.cs:line 52\r\nClientConnectionId:c004e7f2-9f79-4b81-9fb8-85b19d1b2c4c\r\nError Number:1778,State:0,Class:16" }
{ "time": "2023-10-16 22:20:35.0849", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: http://localhost:5000", "address": "http://localhost:5000", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-16 22:20:35.1065", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: https://localhost:5001", "address": "https://localhost:5001", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-16 22:20:35.1065", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Application started. Press Ctrl+C to shut down." }
{ "time": "2023-10-16 22:20:35.1065", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Hosting environment: Development", "envName": "Development" }
{ "time": "2023-10-16 22:20:35.1065", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Content root path: D:\\ThucTap\\OrderFood\\BackEnd\\API\\", "contentRoot": "D:\\ThucTap\\OrderFood\\BackEnd\\API\\" }
{ "time": "2023-10-16 22:20:41.5164", "event": "10100", "level": "ERROR", "logger": "Microsoft.EntityFrameworkCore.Query", "message": "An exception occurred while iterating over the results of a query for context type 'API.Entities.ApplicationDbContext'.\r\nSystem.InvalidOperationException: 'FromSqlRaw' or 'FromSqlInterpolated' was called with non-composable SQL and with a query composing over it. Consider calling 'AsEnumerable' after the method to perform the composition on the client side.\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.CheckComposableSql(String sql)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.VisitFromSql(FromSqlExpression fromSqlExpression)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerQuerySqlGenerator.VisitExtension(Expression extensionExpression)\r\n   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)\r\n   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.<VisitSelect>b__19_1(TableExpressionBase e)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.GenerateList[T](IReadOnlyList`1 items, Action`1 generationAction, Action`1 joinAction)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.VisitSelect(SelectExpression selectExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.GetCommand(SelectExpression selectExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalCommandCache.GetRelationalCommandTemplate(IReadOnlyDictionary`2 parameters)\r\n   at Microsoft.EntityFrameworkCore.Internal.RelationCommandCacheExtensions.RentAndPopulateRelationalCommand(RelationalCommandCache relationalCommandCache, RelationalQueryContext queryContext)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()", "exception": "System.InvalidOperationException: 'FromSqlRaw' or 'FromSqlInterpolated' was called with non-composable SQL and with a query composing over it. Consider calling 'AsEnumerable' after the method to perform the composition on the client side.\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.CheckComposableSql(String sql)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.VisitFromSql(FromSqlExpression fromSqlExpression)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerQuerySqlGenerator.VisitExtension(Expression extensionExpression)\r\n   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)\r\n   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.<VisitSelect>b__19_1(TableExpressionBase e)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.GenerateList[T](IReadOnlyList`1 items, Action`1 generationAction, Action`1 joinAction)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.VisitSelect(SelectExpression selectExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.GetCommand(SelectExpression selectExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalCommandCache.GetRelationalCommandTemplate(IReadOnlyDictionary`2 parameters)\r\n   at Microsoft.EntityFrameworkCore.Internal.RelationCommandCacheExtensions.RentAndPopulateRelationalCommand(RelationalCommandCache relationalCommandCache, RelationalQueryContext queryContext)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()", "url": "https://localhost/api/Product/GetListProduct", "action": "GetListProduct", "contextType": "API.Entities.ApplicationDbContext", "newline": "\r\n", "error": {"Type":"System.InvalidOperationException", "TargetSite":"Void CheckComposableSql(System.String)", "Message":"'FromSqlRaw' or 'FromSqlInterpolated' was called with non-composable SQL and with a query composing over it. Consider calling 'AsEnumerable' after the method to perform the composition on the client side.", "Data":{}, "Source":"Microsoft.EntityFrameworkCore.Relational", "HResult":-2146233079, "StackTrace":"   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.CheckComposableSql(String sql)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.VisitFromSql(FromSqlExpression fromSqlExpression)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerQuerySqlGenerator.VisitExtension(Expression extensionExpression)\r\n   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)\r\n   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.<VisitSelect>b__19_1(TableExpressionBase e)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.GenerateList[T](IReadOnlyList`1 items, Action`1 generationAction, Action`1 joinAction)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.VisitSelect(SelectExpression selectExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.GetCommand(SelectExpression selectExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalCommandCache.GetRelationalCommandTemplate(IReadOnlyDictionary`2 parameters)\r\n   at Microsoft.EntityFrameworkCore.Internal.RelationCommandCacheExtensions.RentAndPopulateRelationalCommand(RelationalCommandCache relationalCommandCache, RelationalQueryContext queryContext)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()"}, "EventId": 10100, "EventName": "Microsoft.EntityFrameworkCore.Query.QueryIterationFailed" }
{ "time": "2023-10-16 22:20:42.8111", "event": "10100", "level": "ERROR", "logger": "Microsoft.EntityFrameworkCore.Query", "message": "An exception occurred while iterating over the results of a query for context type 'API.Entities.ApplicationDbContext'.\r\nSystem.InvalidOperationException: 'FromSqlRaw' or 'FromSqlInterpolated' was called with non-composable SQL and with a query composing over it. Consider calling 'AsEnumerable' after the method to perform the composition on the client side.\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.CheckComposableSql(String sql)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.VisitFromSql(FromSqlExpression fromSqlExpression)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerQuerySqlGenerator.VisitExtension(Expression extensionExpression)\r\n   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)\r\n   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.<VisitSelect>b__19_1(TableExpressionBase e)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.GenerateList[T](IReadOnlyList`1 items, Action`1 generationAction, Action`1 joinAction)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.VisitSelect(SelectExpression selectExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.GetCommand(SelectExpression selectExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalCommandCache.GetRelationalCommandTemplate(IReadOnlyDictionary`2 parameters)\r\n   at Microsoft.EntityFrameworkCore.Internal.RelationCommandCacheExtensions.RentAndPopulateRelationalCommand(RelationalCommandCache relationalCommandCache, RelationalQueryContext queryContext)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()", "exception": "System.InvalidOperationException: 'FromSqlRaw' or 'FromSqlInterpolated' was called with non-composable SQL and with a query composing over it. Consider calling 'AsEnumerable' after the method to perform the composition on the client side.\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.CheckComposableSql(String sql)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.VisitFromSql(FromSqlExpression fromSqlExpression)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerQuerySqlGenerator.VisitExtension(Expression extensionExpression)\r\n   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)\r\n   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.<VisitSelect>b__19_1(TableExpressionBase e)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.GenerateList[T](IReadOnlyList`1 items, Action`1 generationAction, Action`1 joinAction)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.VisitSelect(SelectExpression selectExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.GetCommand(SelectExpression selectExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalCommandCache.GetRelationalCommandTemplate(IReadOnlyDictionary`2 parameters)\r\n   at Microsoft.EntityFrameworkCore.Internal.RelationCommandCacheExtensions.RentAndPopulateRelationalCommand(RelationalCommandCache relationalCommandCache, RelationalQueryContext queryContext)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()", "url": "https://localhost/api/Product/GetListProduct", "action": "GetListProduct", "contextType": "API.Entities.ApplicationDbContext", "newline": "\r\n", "error": {"Type":"System.InvalidOperationException", "TargetSite":"Void CheckComposableSql(System.String)", "Message":"'FromSqlRaw' or 'FromSqlInterpolated' was called with non-composable SQL and with a query composing over it. Consider calling 'AsEnumerable' after the method to perform the composition on the client side.", "Data":{}, "Source":"Microsoft.EntityFrameworkCore.Relational", "HResult":-2146233079, "StackTrace":"   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.CheckComposableSql(String sql)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.VisitFromSql(FromSqlExpression fromSqlExpression)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerQuerySqlGenerator.VisitExtension(Expression extensionExpression)\r\n   at System.Linq.Expressions.Expression.Accept(ExpressionVisitor visitor)\r\n   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.<VisitSelect>b__19_1(TableExpressionBase e)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.GenerateList[T](IReadOnlyList`1 items, Action`1 generationAction, Action`1 joinAction)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.VisitSelect(SelectExpression selectExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.QuerySqlGenerator.GetCommand(SelectExpression selectExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.RelationalCommandCache.GetRelationalCommandTemplate(IReadOnlyDictionary`2 parameters)\r\n   at Microsoft.EntityFrameworkCore.Internal.RelationCommandCacheExtensions.RentAndPopulateRelationalCommand(RelationalCommandCache relationalCommandCache, RelationalQueryContext queryContext)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()"}, "EventId": 10100, "EventName": "Microsoft.EntityFrameworkCore.Query.QueryIterationFailed" }
{ "time": "2023-10-16 22:23:42.7011", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'ProductDto'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "ProductDto", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 22:23:42.7011", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'TotalPrice' on entity type 'UserInfoDTO'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "TotalPrice", "entityType": "UserInfoDTO", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 22:23:42.7011", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "OrderDetail", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 22:23:42.7011", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "Product", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 22:23:43.7045", "event": "20102", "level": "ERROR", "logger": "Microsoft.EntityFrameworkCore.Database.Command", "message": "Failed executing DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']\r\nCREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "elapsed": "16", "parameters": "", "commandType": "Text", "commandTimeout": 30, "newLine": "\r\n", "commandText": "CREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "EventId": 20102, "EventName": "Microsoft.EntityFrameworkCore.Database.Command.CommandError" }
{ "time": "2023-10-16 22:23:43.7617", "event": "0", "level": "ERROR", "logger": "Program", "message": "An error occured during migration", "exception": "Microsoft.Data.SqlClient.SqlException (0x80131904): Column 'Orders.Id' is not the same data type as referencing column 'Carts.OrderId' in foreign key 'FK_Carts_Orders_OrderId'.\r\nCould not create constraint or index. See previous errors.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)\r\n   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at Program.<Main>$(String[] args) in D:\\ThucTap\\OrderFood\\BackEnd\\API\\Program.cs:line 52\r\nClientConnectionId:7fb0dc60-0314-484f-a841-cbf37442596a\r\nError Number:1778,State:0,Class:16" }
{ "time": "2023-10-16 22:23:44.0098", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: http://localhost:5000", "address": "http://localhost:5000", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-16 22:23:44.0154", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: https://localhost:5001", "address": "https://localhost:5001", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-16 22:23:44.0154", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Application started. Press Ctrl+C to shut down." }
{ "time": "2023-10-16 22:23:44.0154", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Hosting environment: Development", "envName": "Development" }
{ "time": "2023-10-16 22:23:44.0154", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Content root path: D:\\ThucTap\\OrderFood\\BackEnd\\API\\", "contentRoot": "D:\\ThucTap\\OrderFood\\BackEnd\\API\\" }
{ "time": "2023-10-16 22:24:46.4264", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'ProductDto'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "ProductDto", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 22:24:46.4394", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'TotalPrice' on entity type 'UserInfoDTO'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "TotalPrice", "entityType": "UserInfoDTO", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 22:24:46.4394", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "OrderDetail", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 22:24:46.4394", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "Product", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 22:24:47.4822", "event": "20102", "level": "ERROR", "logger": "Microsoft.EntityFrameworkCore.Database.Command", "message": "Failed executing DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']\r\nCREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "elapsed": "17", "parameters": "", "commandType": "Text", "commandTimeout": 30, "newLine": "\r\n", "commandText": "CREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "EventId": 20102, "EventName": "Microsoft.EntityFrameworkCore.Database.Command.CommandError" }
{ "time": "2023-10-16 22:24:47.5382", "event": "0", "level": "ERROR", "logger": "Program", "message": "An error occured during migration", "exception": "Microsoft.Data.SqlClient.SqlException (0x80131904): Column 'Orders.Id' is not the same data type as referencing column 'Carts.OrderId' in foreign key 'FK_Carts_Orders_OrderId'.\r\nCould not create constraint or index. See previous errors.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)\r\n   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at Program.<Main>$(String[] args) in D:\\ThucTap\\OrderFood\\BackEnd\\API\\Program.cs:line 52\r\nClientConnectionId:73c1bab4-5042-43d8-a6fa-acbf9942b24f\r\nError Number:1778,State:0,Class:16" }
{ "time": "2023-10-16 22:24:47.7448", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: http://localhost:5000", "address": "http://localhost:5000", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-16 22:24:47.7500", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: https://localhost:5001", "address": "https://localhost:5001", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-16 22:24:47.7500", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Application started. Press Ctrl+C to shut down." }
{ "time": "2023-10-16 22:24:47.7500", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Hosting environment: Development", "envName": "Development" }
{ "time": "2023-10-16 22:24:47.7500", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Content root path: D:\\ThucTap\\OrderFood\\BackEnd\\API\\", "contentRoot": "D:\\ThucTap\\OrderFood\\BackEnd\\API\\" }
{ "time": "2023-10-16 23:42:09.0019", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'ProductDto'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "ProductDto", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 23:42:09.0304", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'TotalPrice' on entity type 'UserInfoDTO'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "TotalPrice", "entityType": "UserInfoDTO", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 23:42:09.0304", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "OrderDetail", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 23:42:09.0304", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "Product", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 23:42:10.0070", "event": "20102", "level": "ERROR", "logger": "Microsoft.EntityFrameworkCore.Database.Command", "message": "Failed executing DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']\r\nCREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "elapsed": "20", "parameters": "", "commandType": "Text", "commandTimeout": 30, "newLine": "\r\n", "commandText": "CREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "EventId": 20102, "EventName": "Microsoft.EntityFrameworkCore.Database.Command.CommandError" }
{ "time": "2023-10-16 23:42:10.0641", "event": "0", "level": "ERROR", "logger": "Program", "message": "An error occured during migration", "exception": "Microsoft.Data.SqlClient.SqlException (0x80131904): Column 'Orders.Id' is not the same data type as referencing column 'Carts.OrderId' in foreign key 'FK_Carts_Orders_OrderId'.\r\nCould not create constraint or index. See previous errors.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)\r\n   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at Program.<Main>$(String[] args) in D:\\ThucTap\\OrderFood\\BackEnd\\API\\Program.cs:line 52\r\nClientConnectionId:8e675107-75f7-4efc-87de-688a44b717d4\r\nError Number:1778,State:0,Class:16" }
{ "time": "2023-10-16 23:42:10.2694", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: http://localhost:5000", "address": "http://localhost:5000", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-16 23:42:10.2694", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: https://localhost:5001", "address": "https://localhost:5001", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-16 23:42:10.2694", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Application started. Press Ctrl+C to shut down." }
{ "time": "2023-10-16 23:42:10.2694", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Hosting environment: Development", "envName": "Development" }
{ "time": "2023-10-16 23:42:10.2694", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Content root path: D:\\ThucTap\\OrderFood\\BackEnd\\API\\", "contentRoot": "D:\\ThucTap\\OrderFood\\BackEnd\\API\\" }
{ "time": "2023-10-16 23:42:40.2739", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'ProductDto'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "ProductDto", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 23:42:40.2857", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'TotalPrice' on entity type 'UserInfoDTO'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "TotalPrice", "entityType": "UserInfoDTO", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 23:42:40.2857", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "OrderDetail", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 23:42:40.2857", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "Product", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 23:42:41.1834", "event": "20102", "level": "ERROR", "logger": "Microsoft.EntityFrameworkCore.Database.Command", "message": "Failed executing DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']\r\nCREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "elapsed": "16", "parameters": "", "commandType": "Text", "commandTimeout": 30, "newLine": "\r\n", "commandText": "CREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "EventId": 20102, "EventName": "Microsoft.EntityFrameworkCore.Database.Command.CommandError" }
{ "time": "2023-10-16 23:42:41.2360", "event": "0", "level": "ERROR", "logger": "Program", "message": "An error occured during migration", "exception": "Microsoft.Data.SqlClient.SqlException (0x80131904): Column 'Orders.Id' is not the same data type as referencing column 'Carts.OrderId' in foreign key 'FK_Carts_Orders_OrderId'.\r\nCould not create constraint or index. See previous errors.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)\r\n   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at Program.<Main>$(String[] args) in D:\\ThucTap\\OrderFood\\BackEnd\\API\\Program.cs:line 52\r\nClientConnectionId:adcb0b2a-44a2-49ec-8b0a-13a00cb8ed56\r\nError Number:1778,State:0,Class:16" }
{ "time": "2023-10-16 23:42:41.4280", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: http://localhost:5000", "address": "http://localhost:5000", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-16 23:42:41.4335", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: https://localhost:5001", "address": "https://localhost:5001", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-16 23:42:41.4335", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Application started. Press Ctrl+C to shut down." }
{ "time": "2023-10-16 23:42:41.4335", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Hosting environment: Development", "envName": "Development" }
{ "time": "2023-10-16 23:42:41.4335", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Content root path: D:\\ThucTap\\OrderFood\\BackEnd\\API\\", "contentRoot": "D:\\ThucTap\\OrderFood\\BackEnd\\API\\" }
{ "time": "2023-10-16 23:54:43.1641", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'ProductDto'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "ProductDto", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 23:54:43.1781", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'TotalPrice' on entity type 'UserInfoDTO'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "TotalPrice", "entityType": "UserInfoDTO", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 23:54:43.1781", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "OrderDetail", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 23:54:43.1781", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "Product", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-16 23:54:44.8631", "event": "20102", "level": "ERROR", "logger": "Microsoft.EntityFrameworkCore.Database.Command", "message": "Failed executing DbCommand (73ms) [Parameters=[], CommandType='Text', CommandTimeout='30']\r\nCREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "elapsed": "73", "parameters": "", "commandType": "Text", "commandTimeout": 30, "newLine": "\r\n", "commandText": "CREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "EventId": 20102, "EventName": "Microsoft.EntityFrameworkCore.Database.Command.CommandError" }
{ "time": "2023-10-16 23:54:44.9716", "event": "0", "level": "ERROR", "logger": "Program", "message": "An error occured during migration", "exception": "Microsoft.Data.SqlClient.SqlException (0x80131904): Column 'Orders.Id' is not the same data type as referencing column 'Carts.OrderId' in foreign key 'FK_Carts_Orders_OrderId'.\r\nCould not create constraint or index. See previous errors.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)\r\n   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at Program.<Main>$(String[] args) in D:\\ThucTap\\OrderFood\\BackEnd\\API\\Program.cs:line 52\r\nClientConnectionId:721d87be-ec81-4b57-bf70-3d3ee0a2bb63\r\nError Number:1778,State:0,Class:16" }
{ "time": "2023-10-16 23:54:45.5377", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: http://localhost:5000", "address": "http://localhost:5000", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-16 23:54:45.5616", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: https://localhost:5001", "address": "https://localhost:5001", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-16 23:54:45.5616", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Application started. Press Ctrl+C to shut down." }
{ "time": "2023-10-16 23:54:45.5616", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Hosting environment: Development", "envName": "Development" }
{ "time": "2023-10-16 23:54:45.5616", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Content root path: D:\\ThucTap\\OrderFood\\BackEnd\\API\\", "contentRoot": "D:\\ThucTap\\OrderFood\\BackEnd\\API\\" }
