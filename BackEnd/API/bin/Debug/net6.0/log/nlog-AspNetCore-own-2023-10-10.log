{ "time": "2023-10-10 08:38:44.0391", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'TotalPrice' on entity type 'UserInfoDTO'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "TotalPrice", "entityType": "UserInfoDTO", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-10 08:38:44.0529", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "OrderDetail", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-10 08:38:44.0529", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "Product", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-10 08:38:46.2369", "event": "20102", "level": "ERROR", "logger": "Microsoft.EntityFrameworkCore.Database.Command", "message": "Failed executing DbCommand (235ms) [Parameters=[], CommandType='Text', CommandTimeout='30']\r\nCREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "elapsed": "235", "parameters": "", "commandType": "Text", "commandTimeout": 30, "newLine": "\r\n", "commandText": "CREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "EventId": 20102, "EventName": "Microsoft.EntityFrameworkCore.Database.Command.CommandError" }
{ "time": "2023-10-10 08:38:46.4222", "event": "0", "level": "ERROR", "logger": "Program", "message": "An error occured during migration", "exception": "Microsoft.Data.SqlClient.SqlException (0x80131904): Column 'Orders.Id' is not the same data type as referencing column 'Carts.OrderId' in foreign key 'FK_Carts_Orders_OrderId'.\r\nCould not create constraint or index. See previous errors.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)\r\n   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at Program.<Main>$(String[] args) in D:\\ThucTap\\OrderFood\\BackEnd\\API\\Program.cs:line 49\r\nClientConnectionId:3f0a3ef8-dd74-43ad-9309-26a2bb712624\r\nError Number:1778,State:0,Class:16" }
{ "time": "2023-10-10 08:38:47.4262", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: http://localhost:5000", "address": "http://localhost:5000", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-10 08:38:47.4504", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: https://localhost:5001", "address": "https://localhost:5001", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-10 08:38:47.4504", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Application started. Press Ctrl+C to shut down." }
{ "time": "2023-10-10 08:38:47.4504", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Hosting environment: Development", "envName": "Development" }
{ "time": "2023-10-10 08:38:47.4504", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Content root path: D:\\ThucTap\\OrderFood\\BackEnd\\API\\", "contentRoot": "D:\\ThucTap\\OrderFood\\BackEnd\\API\\" }
{ "time": "2023-10-10 09:32:24.3538", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'TotalPrice' on entity type 'UserInfoDTO'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "TotalPrice", "entityType": "UserInfoDTO", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-10 09:32:24.3684", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "OrderDetail", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-10 09:32:24.3684", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "Product", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-10 09:32:25.5065", "event": "20102", "level": "ERROR", "logger": "Microsoft.EntityFrameworkCore.Database.Command", "message": "Failed executing DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']\r\nCREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "elapsed": "27", "parameters": "", "commandType": "Text", "commandTimeout": 30, "newLine": "\r\n", "commandText": "CREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "EventId": 20102, "EventName": "Microsoft.EntityFrameworkCore.Database.Command.CommandError" }
{ "time": "2023-10-10 09:32:25.6346", "event": "0", "level": "ERROR", "logger": "Program", "message": "An error occured during migration", "exception": "Microsoft.Data.SqlClient.SqlException (0x80131904): Column 'Orders.Id' is not the same data type as referencing column 'Carts.OrderId' in foreign key 'FK_Carts_Orders_OrderId'.\r\nCould not create constraint or index. See previous errors.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)\r\n   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at Program.<Main>$(String[] args) in D:\\ThucTap\\OrderFood\\BackEnd\\API\\Program.cs:line 49\r\nClientConnectionId:29a8c21d-746d-4983-88b7-1059e0cc976c\r\nError Number:1778,State:0,Class:16" }
{ "time": "2023-10-10 09:32:25.9113", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: http://localhost:5000", "address": "http://localhost:5000", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-10 09:32:25.9174", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: https://localhost:5001", "address": "https://localhost:5001", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-10 09:32:25.9174", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Application started. Press Ctrl+C to shut down." }
{ "time": "2023-10-10 09:32:25.9174", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Hosting environment: Development", "envName": "Development" }
{ "time": "2023-10-10 09:32:25.9174", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Content root path: D:\\ThucTap\\OrderFood\\BackEnd\\API\\", "contentRoot": "D:\\ThucTap\\OrderFood\\BackEnd\\API\\" }
{ "time": "2023-10-10 09:32:56.4446", "event": "10100", "level": "ERROR", "logger": "Microsoft.EntityFrameworkCore.Query", "message": "An exception occurred while iterating over the results of a query for context type 'API.Entities.ApplicationDbContext'.\r\nSystem.InvalidCastException: Unable to cast object of type 'System.TimeSpan' to type 'System.DateTime'.\r\n   at Microsoft.Data.SqlClient.SqlBuffer.get_DateTime()\r\n   at Microsoft.Data.SqlClient.SqlDataReader.GetDateTime(Int32 i)\r\n   at lambda_method25(Closure , QueryContext , DbDataReader , Int32[] )\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.MoveNext()", "exception": "System.InvalidCastException: Unable to cast object of type 'System.TimeSpan' to type 'System.DateTime'.\r\n   at Microsoft.Data.SqlClient.SqlBuffer.get_DateTime()\r\n   at Microsoft.Data.SqlClient.SqlDataReader.GetDateTime(Int32 i)\r\n   at lambda_method25(Closure , QueryContext , DbDataReader , Int32[] )\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.MoveNext()", "url": "https://localhost/api/Restaurant/GetRestaurantByKeyword", "action": "GetRestaurant", "contextType": "API.Entities.ApplicationDbContext", "newline": "\r\n", "error": {"Type":"System.InvalidCastException", "TargetSite":"Byte& Unbox(Void*, System.Object)", "Message":"Unable to cast object of type 'System.TimeSpan' to type 'System.DateTime'.", "Data":{}, "Source":"System.Private.CoreLib", "HResult":-2147467262, "StackTrace":"   at Microsoft.Data.SqlClient.SqlBuffer.get_DateTime()\r\n   at Microsoft.Data.SqlClient.SqlDataReader.GetDateTime(Int32 i)\r\n   at lambda_method25(Closure , QueryContext , DbDataReader , Int32[] )\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.MoveNext()"}, "EventId": 10100, "EventName": "Microsoft.EntityFrameworkCore.Query.QueryIterationFailed" }
{ "time": "2023-10-10 09:33:20.2568", "event": "10100", "level": "ERROR", "logger": "Microsoft.EntityFrameworkCore.Query", "message": "An exception occurred while iterating over the results of a query for context type 'API.Entities.ApplicationDbContext'.\r\nSystem.InvalidCastException: Unable to cast object of type 'System.TimeSpan' to type 'System.DateTime'.\r\n   at Microsoft.Data.SqlClient.SqlBuffer.get_DateTime()\r\n   at Microsoft.Data.SqlClient.SqlDataReader.GetDateTime(Int32 i)\r\n   at lambda_method25(Closure , QueryContext , DbDataReader , Int32[] )\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.MoveNext()", "exception": "System.InvalidCastException: Unable to cast object of type 'System.TimeSpan' to type 'System.DateTime'.\r\n   at Microsoft.Data.SqlClient.SqlBuffer.get_DateTime()\r\n   at Microsoft.Data.SqlClient.SqlDataReader.GetDateTime(Int32 i)\r\n   at lambda_method25(Closure , QueryContext , DbDataReader , Int32[] )\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.MoveNext()", "url": "https://localhost/api/Restaurant/GetRestaurantByKeyword", "action": "GetRestaurant", "contextType": "API.Entities.ApplicationDbContext", "newline": "\r\n", "error": {"Type":"System.InvalidCastException", "TargetSite":"Byte& Unbox(Void*, System.Object)", "Message":"Unable to cast object of type 'System.TimeSpan' to type 'System.DateTime'.", "Data":{}, "Source":"System.Private.CoreLib", "HResult":-2147467262, "StackTrace":"   at Microsoft.Data.SqlClient.SqlBuffer.get_DateTime()\r\n   at Microsoft.Data.SqlClient.SqlDataReader.GetDateTime(Int32 i)\r\n   at lambda_method25(Closure , QueryContext , DbDataReader , Int32[] )\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.MoveNext()"}, "EventId": 10100, "EventName": "Microsoft.EntityFrameworkCore.Query.QueryIterationFailed" }
{ "time": "2023-10-10 09:33:52.8155", "event": "0", "level": "ERROR", "logger": "Program", "message": "An error occured during migration", "exception": "System.InvalidOperationException: The property 'Restaurant.CloseTime' could not be mapped because it is of type 'TimeOnly', which is not a supported primitive type or a valid entity type. Either explicitly map this property, or ignore it using the '[NotMapped]' attribute or by using 'EntityTypeBuilder.Ignore' in 'OnModelCreating'.\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidatePropertyMapping(IModel model, IDiagnosticsLogger`1 logger)\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Infrastructure.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)\r\n   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)\r\n   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)\r\n   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()\r\n   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()\r\n   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Infrastructure.IInfrastructure<System.IServiceProvider>.get_Instance()\r\n   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetRelationalService[TService](IInfrastructure`1 databaseFacade)\r\n   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.MigrateAsync(DatabaseFacade databaseFacade, CancellationToken cancellationToken)\r\n   at Program.<Main>$(String[] args) in D:\\ThucTap\\OrderFood\\BackEnd\\API\\Program.cs:line 49" }
{ "time": "2023-10-10 09:33:53.0332", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: http://localhost:5000", "address": "http://localhost:5000", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-10 09:33:53.0449", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: https://localhost:5001", "address": "https://localhost:5001", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-10 09:33:53.0449", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Application started. Press Ctrl+C to shut down." }
{ "time": "2023-10-10 09:33:53.0449", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Hosting environment: Development", "envName": "Development" }
{ "time": "2023-10-10 09:33:53.0449", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Content root path: D:\\ThucTap\\OrderFood\\BackEnd\\API\\", "contentRoot": "D:\\ThucTap\\OrderFood\\BackEnd\\API\\" }
{ "time": "2023-10-10 09:35:06.5725", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'TotalPrice' on entity type 'UserInfoDTO'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "TotalPrice", "entityType": "UserInfoDTO", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-10 09:35:06.5851", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "OrderDetail", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-10 09:35:06.5851", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "Product", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-10 09:35:07.5243", "event": "20102", "level": "ERROR", "logger": "Microsoft.EntityFrameworkCore.Database.Command", "message": "Failed executing DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']\r\nCREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "elapsed": "11", "parameters": "", "commandType": "Text", "commandTimeout": 30, "newLine": "\r\n", "commandText": "CREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "EventId": 20102, "EventName": "Microsoft.EntityFrameworkCore.Database.Command.CommandError" }
{ "time": "2023-10-10 09:35:07.5851", "event": "0", "level": "ERROR", "logger": "Program", "message": "An error occured during migration", "exception": "Microsoft.Data.SqlClient.SqlException (0x80131904): Column 'Orders.Id' is not the same data type as referencing column 'Carts.OrderId' in foreign key 'FK_Carts_Orders_OrderId'.\r\nCould not create constraint or index. See previous errors.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)\r\n   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at Program.<Main>$(String[] args) in D:\\ThucTap\\OrderFood\\BackEnd\\API\\Program.cs:line 49\r\nClientConnectionId:56cf764d-9431-4cd7-966b-e4781e293e2e\r\nError Number:1778,State:0,Class:16" }
{ "time": "2023-10-10 09:35:07.8162", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: http://localhost:5000", "address": "http://localhost:5000", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-10 09:35:07.8213", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: https://localhost:5001", "address": "https://localhost:5001", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-10 09:35:07.8213", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Application started. Press Ctrl+C to shut down." }
{ "time": "2023-10-10 09:35:07.8213", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Hosting environment: Development", "envName": "Development" }
{ "time": "2023-10-10 09:35:07.8213", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Content root path: D:\\ThucTap\\OrderFood\\BackEnd\\API\\", "contentRoot": "D:\\ThucTap\\OrderFood\\BackEnd\\API\\" }
{ "time": "2023-10-10 09:35:32.5755", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'TotalPrice' on entity type 'UserInfoDTO'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "TotalPrice", "entityType": "UserInfoDTO", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-10 09:35:32.5871", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "OrderDetail", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-10 09:35:32.5871", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "Product", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-10 09:35:33.6070", "event": "20102", "level": "ERROR", "logger": "Microsoft.EntityFrameworkCore.Database.Command", "message": "Failed executing DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']\r\nCREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "elapsed": "10", "parameters": "", "commandType": "Text", "commandTimeout": 30, "newLine": "\r\n", "commandText": "CREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "EventId": 20102, "EventName": "Microsoft.EntityFrameworkCore.Database.Command.CommandError" }
{ "time": "2023-10-10 09:35:33.6736", "event": "0", "level": "ERROR", "logger": "Program", "message": "An error occured during migration", "exception": "Microsoft.Data.SqlClient.SqlException (0x80131904): Column 'Orders.Id' is not the same data type as referencing column 'Carts.OrderId' in foreign key 'FK_Carts_Orders_OrderId'.\r\nCould not create constraint or index. See previous errors.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)\r\n   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at Program.<Main>$(String[] args) in D:\\ThucTap\\OrderFood\\BackEnd\\API\\Program.cs:line 49\r\nClientConnectionId:16e6e994-0226-4ba5-9a8a-52563ced170e\r\nError Number:1778,State:0,Class:16" }
{ "time": "2023-10-10 09:35:33.9187", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: http://localhost:5000", "address": "http://localhost:5000", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-10 09:35:33.9187", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: https://localhost:5001", "address": "https://localhost:5001", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-10 09:35:33.9187", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Application started. Press Ctrl+C to shut down." }
{ "time": "2023-10-10 09:35:33.9187", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Hosting environment: Development", "envName": "Development" }
{ "time": "2023-10-10 09:35:33.9187", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Content root path: D:\\ThucTap\\OrderFood\\BackEnd\\API\\", "contentRoot": "D:\\ThucTap\\OrderFood\\BackEnd\\API\\" }
{ "time": "2023-10-10 10:20:53.5688", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'TotalPrice' on entity type 'UserInfoDTO'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "TotalPrice", "entityType": "UserInfoDTO", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-10 10:20:53.5688", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'OrderDetail'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "OrderDetail", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-10 10:20:53.5688", "event": "30000", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Model.Validation", "message": "No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.", "property": "Price", "entityType": "Product", "EventId": 30000, "EventName": "Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning" }
{ "time": "2023-10-10 10:20:54.5238", "event": "20102", "level": "ERROR", "logger": "Microsoft.EntityFrameworkCore.Database.Command", "message": "Failed executing DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']\r\nCREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "elapsed": "31", "parameters": "", "commandType": "Text", "commandTimeout": 30, "newLine": "\r\n", "commandText": "CREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "EventId": 20102, "EventName": "Microsoft.EntityFrameworkCore.Database.Command.CommandError" }
{ "time": "2023-10-10 10:20:54.5864", "event": "0", "level": "ERROR", "logger": "Program", "message": "An error occured during migration", "exception": "Microsoft.Data.SqlClient.SqlException (0x80131904): Column 'Orders.Id' is not the same data type as referencing column 'Carts.OrderId' in foreign key 'FK_Carts_Orders_OrderId'.\r\nCould not create constraint or index. See previous errors.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)\r\n   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at Program.<Main>$(String[] args) in D:\\ThucTap\\OrderFood\\BackEnd\\API\\Program.cs:line 49\r\nClientConnectionId:1fcb060e-d50a-492b-8761-c47752fea4c9\r\nError Number:1778,State:0,Class:16" }
{ "time": "2023-10-10 10:20:54.7838", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: http://localhost:5000", "address": "http://localhost:5000", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-10 10:20:54.7924", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: https://localhost:5001", "address": "https://localhost:5001", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-10 10:20:54.7924", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Application started. Press Ctrl+C to shut down." }
{ "time": "2023-10-10 10:20:54.7924", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Hosting environment: Development", "envName": "Development" }
{ "time": "2023-10-10 10:20:54.7924", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Content root path: D:\\ThucTap\\OrderFood\\BackEnd\\API\\", "contentRoot": "D:\\ThucTap\\OrderFood\\BackEnd\\API\\" }
