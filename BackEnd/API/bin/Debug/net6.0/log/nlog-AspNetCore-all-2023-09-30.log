2023-09-30 08:52:58.5765|12|             DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider              
2023-09-30 08:52:59.9398|10401|             DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework.              
2023-09-30 08:53:01.1902|10601|             DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.              
2023-09-30 08:53:01.1902|10601|             DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.              
2023-09-30 08:53:01.9339|10403|             INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.22 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.22' with options: None              
2023-09-30 08:53:02.8349|20400|             DEBUG|Microsoft.EntityFrameworkCore.Migrations|Migrating using database 'orderfood' on server '.'.              
2023-09-30 08:53:02.8558|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 08:53:03.2810|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 08:53:03.2903|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'.              
2023-09-30 08:53:03.2903|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (2ms).              
2023-09-30 08:53:03.3056|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1              
2023-09-30 08:53:03.3426|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1              
2023-09-30 08:53:03.3426|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 08:53:03.3534|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 08:53:03.3534|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteScalar'.              
2023-09-30 08:53:03.3534|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteScalar' (0ms).              
2023-09-30 08:53:03.3534|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 08:53:03.3534|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 08:53:03.3534|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');              
2023-09-30 08:53:03.4515|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (87ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');              
2023-09-30 08:53:03.4515|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 08:53:03.4515|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 08:53:03.4710|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 08:53:03.4710|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 08:53:03.4710|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'.              
2023-09-30 08:53:03.4710|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (0ms).              
2023-09-30 08:53:03.4710|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1              
2023-09-30 08:53:03.5093|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1              
2023-09-30 08:53:03.5093|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 08:53:03.5093|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 08:53:03.5093|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteScalar'.              
2023-09-30 08:53:03.5093|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteScalar' (0ms).              
2023-09-30 08:53:03.5093|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 08:53:03.5093|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 08:53:03.5093|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');              
2023-09-30 08:53:03.5093|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');              
2023-09-30 08:53:03.5093|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 08:53:03.5093|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 08:53:03.5593|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.              
2023-09-30 08:53:03.5593|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).              
2023-09-30 08:53:03.5593|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 08:53:03.5593|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 08:53:03.5593|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];              
2023-09-30 08:53:03.5750|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];              
2023-09-30 08:53:03.5860|20300|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.              
2023-09-30 08:53:03.5860|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 08:53:03.5860|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 08:53:03.6094|20402|             INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230929033822_tableCart'.              
2023-09-30 08:53:03.7430|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 08:53:03.7430|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 08:53:03.7430|20209|             DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'.              
2023-09-30 08:53:03.7583|20200|             DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'.              
2023-09-30 08:53:03.7583|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'.              
2023-09-30 08:53:03.7583|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (0ms).              
2023-09-30 08:53:03.7583|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Carts] (
    [Id] int NOT NULL IDENTITY,
    [ProductId] int NOT NULL,
    [Count] int NOT NULL,
    [UserId] int NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE
);              
2023-09-30 08:53:03.7831|20102|             ERROR|Microsoft.EntityFrameworkCore.Database.Command|Failed executing DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Carts] (
    [Id] int NOT NULL IDENTITY,
    [ProductId] int NOT NULL,
    [Count] int NOT NULL,
    [UserId] int NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE
);              
2023-09-30 08:53:03.8010|20204|             DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction.              
2023-09-30 08:53:03.8010|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 08:53:03.8010|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 08:53:03.8055|0|             ERROR|Program|An error occured during migration              Microsoft.Data.SqlClient.SqlException (0x80131904): There is already an object named 'Carts' in the database.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at Program.<Main>$(String[] args) in C:\Users\tien0\Downloads\OrderFood\api\Program.cs:line 49
ClientConnectionId:7c423b6d-28ab-4260-baed-e1c67dc61bcd
Error Number:2714,State:6,Class:16
2023-09-30 08:53:03.8512|1|             DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting              
2023-09-30 08:53:03.8677|63|             INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\tien0\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.              
2023-09-30 08:53:03.8677|37|             DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\tien0\AppData\Local\ASP.NET\DataProtection-Keys\key-3cad6893-7ec2-4798-a1fd-6fe2ef7dc0bd.xml'.              
2023-09-30 08:53:03.9034|18|             DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {3cad6893-7ec2-4798-a1fd-6fe2ef7dc0bd}.              
2023-09-30 08:53:03.9198|13|             DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {3cad6893-7ec2-4798-a1fd-6fe2ef7dc0bd} with expiration date 2023-12-28 02:08:48Z as default key.              
2023-09-30 08:53:03.9198|0|             DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60              
2023-09-30 08:53:03.9198|51|             DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI.              
2023-09-30 08:53:03.9198|0|             DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60              
2023-09-30 08:53:03.9198|4|             DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC.              
2023-09-30 08:53:03.9302|3|             DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC.              
2023-09-30 08:53:03.9302|2|             DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {3cad6893-7ec2-4798-a1fd-6fe2ef7dc0bd} as the default key.              
2023-09-30 08:53:03.9302|65|             DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {3cad6893-7ec2-4798-a1fd-6fe2ef7dc0bd} was loaded during application startup.              
2023-09-30 08:53:04.0962|0|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer|Using development certificate: CN=localhost (Thumbprint: 68D6AF84BF384E33F447BB662F2D80F6C92E9E5F)              
2023-09-30 08:53:04.1662|14|             INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5000              
2023-09-30 08:53:04.1662|14|             INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:5001              
2023-09-30 08:53:04.1662|13|             DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly API              
2023-09-30 08:53:04.1662|13|             DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh              
2023-09-30 08:53:04.1662|0|             INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.              
2023-09-30 08:53:04.1662|0|             INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development              
2023-09-30 08:53:04.1662|0|             INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\tien0\Downloads\OrderFood\api\              
2023-09-30 08:53:04.1787|2|             DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started              
2023-09-30 08:54:06.6064|39|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMU1B0GNLHA2" accepted.              
2023-09-30 08:54:06.6064|1|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMU1B0GNLHA2" started.              
2023-09-30 08:54:06.6581|1|             INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5000/api/Product/Restaurant/3 - -              
2023-09-30 08:54:06.6764|0|             DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed.              
2023-09-30 08:54:06.6764|2|             TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.              
2023-09-30 08:54:06.7276|1001|             DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Product/Restaurant/3'              
2023-09-30 08:54:06.7276|1005|             DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'API.Controllers.ProductController.GetProductRestaurant (API)' with route pattern 'api/Product/Restaurant/{restaurantId}' is valid for the request path '/api/Product/Restaurant/3'              
2023-09-30 08:54:06.7276|1|             DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'API.Controllers.ProductController.GetProductRestaurant (API)'              
2023-09-30 08:54:06.7276|15|             DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint.              
2023-09-30 08:54:06.7276|5|             DEBUG|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Https port '5001' discovered from server endpoints.              
2023-09-30 08:54:06.7276|1|             DEBUG|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Redirecting to 'https://localhost:5001/api/Product/Restaurant/3'.              
2023-09-30 08:54:06.7276|9|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMU1B0GNLHA2" completed keep alive response.              
2023-09-30 08:54:06.7420|2|             INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5000/api/Product/Restaurant/3 - - - 307 0 - 86.0299ms              
2023-09-30 08:54:06.7605|39|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMU1B0GNLHA3" accepted.              
2023-09-30 08:54:06.7605|1|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMU1B0GNLHA3" started.              
2023-09-30 08:54:06.8364|3|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HMU1B0GNLHA3 established using the following protocol: Tls13              
2023-09-30 08:54:06.8913|1|             INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:5001/api/Product/Restaurant/3 - -              
2023-09-30 08:54:06.8913|2|             TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.              
2023-09-30 08:54:06.8913|1001|             DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Product/Restaurant/3'              
2023-09-30 08:54:06.8913|1005|             DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'API.Controllers.ProductController.GetProductRestaurant (API)' with route pattern 'api/Product/Restaurant/{restaurantId}' is valid for the request path '/api/Product/Restaurant/3'              
2023-09-30 08:54:06.8913|1|             DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'API.Controllers.ProductController.GetProductRestaurant (API)'              
2023-09-30 08:54:06.8913|15|             DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint.              
2023-09-30 08:54:06.8976|0|             INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'API.Controllers.ProductController.GetProductRestaurant (API)'              
2023-09-30 08:54:06.9411|3|             INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetProductRestaurant", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[API.Entities.ApiResponse`1[System.Collections.Generic.List`1[API.DTO.ProductDto]]] GetProductRestaurant(Int32) on controller API.Controllers.ProductController (API).              
2023-09-30 08:54:06.9411|1|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None              
2023-09-30 08:54:06.9411|1|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None              
2023-09-30 08:54:06.9411|1|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)              
2023-09-30 08:54:06.9411|1|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None              
2023-09-30 08:54:06.9411|1|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)              
2023-09-30 08:54:06.9411|1|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller API.Controllers.ProductController (API)              
2023-09-30 08:54:06.9477|10403|             INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.22 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.22' with options: None              
2023-09-30 08:54:07.0708|2|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller API.Controllers.ProductController (API)              
2023-09-30 08:54:07.0708|22|             DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'restaurantId' of type 'System.Int32' ...              
2023-09-30 08:54:07.0708|44|             DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'restaurantId' of type 'System.Int32' using the name 'restaurantId' in request data ...              
2023-09-30 08:54:07.0708|45|             DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'restaurantId' of type 'System.Int32'.              
2023-09-30 08:54:07.0708|23|             DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'restaurantId' of type 'System.Int32'.              
2023-09-30 08:54:07.0708|26|             DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'restaurantId' of type 'System.Int32' ...              
2023-09-30 08:54:07.0708|27|             DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'restaurantId' of type 'System.Int32'.              
2023-09-30 08:54:07.0708|2|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter.              
2023-09-30 08:54:07.0708|2|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.              
2023-09-30 08:54:07.0708|3|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.              
2023-09-30 08:54:07.0708|2|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.              
2023-09-30 08:54:07.0708|3|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.              
2023-09-30 08:54:07.0848|1|             INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method API.Controllers.ProductController.GetProductRestaurant (API) - Validation state: Valid              
2023-09-30 08:54:07.0848|1|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method API.Controllers.ProductController.GetProductRestaurant (API) with arguments (3)              
2023-09-30 08:54:07.1714|10111|             DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<Product>()
    .Where(u => u.RestaurantId == __restaurantId_0)
    .Include("Restaurant")
    .Include("ProductImages")'              
2023-09-30 08:54:07.2788|10112|             DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'Product.Restaurant'.              
2023-09-30 08:54:07.2788|10112|             DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'Product.ProductImages'.              
2023-09-30 08:54:07.5533|10107|             DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Product>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoryId (int) Required FK Index, 1], [Property: Product.CreateBy (string) Required, 2], [Property: Product.CreateDate (DateTime) Required, 3], [Property: Product.Description (string) Required, 4], [Property: Product.Price (double) Required, 5], [Property: Product.Quantity (int) Required, 6], [Property: Product.RestaurantId (int) Required FK Index, 7], [Property: Product.Title (string) Required, 8], [Property: Product.UpdateBy (string) Required, 9], [Property: Product.UpdateDate (DateTime?), 10] }
            1 -> Dictionary<IProperty, int> { [Property: Restaurant.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: Restaurant.CloseTime (DateTime) Required, 12], [Property: Restaurant.CreateBy (string) Required, 13], [Property: Restaurant.CreateDate (DateTime) Required, 14], [Property: Restaurant.Description (string) Required, 15], [Property: Restaurant.ImageUrl (string) Required, 16], [Property: Restaurant.OpenTime (DateTime) Required, 17], [Property: Restaurant.PhoneNumber (string) Required, 18], [Property: Restaurant.RestaurantName (string) Required, 19], [Property: Restaurant.UpdateBy (string) Required, 20], [Property: Restaurant.UpdateDate (DateTime?), 21], [Property: Restaurant.UserId (int?) FK Index, 22] }
            2 -> 0
            3 -> 11
            4 -> Dictionary<IProperty, int> { [Property: ProductImage.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: ProductImage.CreateBy (string) Required, 24], [Property: ProductImage.CreateDate (DateTime) Required, 25], [Property: ProductImage.ImageUrl (string) Required, 26], [Property: ProductImage.ProductId (int) Required FK Index, 27], [Property: ProductImage.UpdateBy (string) Required, 28], [Property: ProductImage.UpdateDate (DateTime?), 29] }
            5 -> 23
        SELECT p.Id, p.CategoryId, p.CreateBy, p.CreateDate, p.Description, p.Price, p.Quantity, p.RestaurantId, p.Title, p.UpdateBy, p.UpdateDate, r.Id, r.CloseTime, r.CreateBy, r.CreateDate, r.Description, r.ImageUrl, r.OpenTime, r.PhoneNumber, r.RestaurantName, r.UpdateBy, r.UpdateDate, r.UserId, p0.Id, p0.CreateBy, p0.CreateDate, p0.ImageUrl, p0.ProductId, p0.UpdateBy, p0.UpdateDate
        FROM Products AS p
        INNER JOIN Restaurants AS r ON p.RestaurantId == r.Id
        LEFT JOIN ProductImages AS p0 ON p.Id == p0.ProductId
        WHERE p.RestaurantId == @__restaurantId_0
        ORDER BY p.Id ASC, r.Id ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
    API.Entities.ApplicationDbContext, 
    False, 
    False, 
    True
)'              
2023-09-30 08:54:07.5910|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.              
2023-09-30 08:54:07.5910|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).              
2023-09-30 08:54:07.5910|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 08:54:07.5910|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 08:54:07.6013|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__restaurantId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[CreateBy], [p].[CreateDate], [p].[Description], [p].[Price], [p].[Quantity], [p].[RestaurantId], [p].[Title], [p].[UpdateBy], [p].[UpdateDate], [r].[Id], [r].[CloseTime], [r].[CreateBy], [r].[CreateDate], [r].[Description], [r].[ImageUrl], [r].[OpenTime], [r].[PhoneNumber], [r].[RestaurantName], [r].[UpdateBy], [r].[UpdateDate], [r].[UserId], [p0].[Id], [p0].[CreateBy], [p0].[CreateDate], [p0].[ImageUrl], [p0].[ProductId], [p0].[UpdateBy], [p0].[UpdateDate]
FROM [Products] AS [p]
INNER JOIN [Restaurants] AS [r] ON [p].[RestaurantId] = [r].[Id]
LEFT JOIN [ProductImages] AS [p0] ON [p].[Id] = [p0].[ProductId]
WHERE [p].[RestaurantId] = @__restaurantId_0
ORDER BY [p].[Id], [r].[Id]              
2023-09-30 08:54:07.6466|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (50ms) [Parameters=[@__restaurantId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[CreateBy], [p].[CreateDate], [p].[Description], [p].[Price], [p].[Quantity], [p].[RestaurantId], [p].[Title], [p].[UpdateBy], [p].[UpdateDate], [r].[Id], [r].[CloseTime], [r].[CreateBy], [r].[CreateDate], [r].[Description], [r].[ImageUrl], [r].[OpenTime], [r].[PhoneNumber], [r].[RestaurantName], [r].[UpdateBy], [r].[UpdateDate], [r].[UserId], [p0].[Id], [p0].[CreateBy], [p0].[CreateDate], [p0].[ImageUrl], [p0].[ProductId], [p0].[UpdateBy], [p0].[UpdateDate]
FROM [Products] AS [p]
INNER JOIN [Restaurants] AS [r] ON [p].[RestaurantId] = [r].[Id]
LEFT JOIN [ProductImages] AS [p0] ON [p].[Id] = [p0].[ProductId]
WHERE [p].[RestaurantId] = @__restaurantId_0
ORDER BY [p].[Id], [r].[Id]              
2023-09-30 08:54:07.6935|10806|             DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.              
2023-09-30 08:54:07.7442|10806|             DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'ApplicationDbContext' started tracking 'Restaurant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.              
2023-09-30 08:54:07.7848|10806|             DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.              
2023-09-30 08:54:07.7848|10806|             DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.              
2023-09-30 08:54:07.7848|10806|             DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.              
2023-09-30 08:54:07.7848|10806|             DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.              
2023-09-30 08:54:07.7848|10806|             DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.              
2023-09-30 08:54:07.7848|10806|             DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.              
2023-09-30 08:54:07.7848|10806|             DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.              
2023-09-30 08:54:07.7848|10806|             DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.              
2023-09-30 08:54:07.7848|10806|             DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.              
2023-09-30 08:54:07.7883|20300|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.              
2023-09-30 08:54:07.7883|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 08:54:07.7883|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 08:54:07.8131|2|             INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method API.Controllers.ProductController.GetProductRestaurant (API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 724.8603ms.              
2023-09-30 08:54:07.8131|2|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.              
2023-09-30 08:54:07.8131|3|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.              
2023-09-30 08:54:07.8131|2|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.              
2023-09-30 08:54:07.8131|3|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.              
2023-09-30 08:54:07.8131|3|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter.              
2023-09-30 08:54:07.8131|2|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.              
2023-09-30 08:54:07.8131|3|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.              
2023-09-30 08:54:07.8131|4|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.              
2023-09-30 08:54:07.8131|11|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter              
2023-09-30 08:54:07.8203|6|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter based on Accept header 'application/json, text/json, text/x-json, text/javascript, application/xml, text/xml'.              
2023-09-30 08:54:07.8203|2|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.              
2023-09-30 08:54:07.8203|1|             INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'API.Entities.ApiResponse`1[[System.Collections.Generic.List`1[[API.DTO.ProductDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.              
2023-09-30 08:54:07.8488|5|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.              
2023-09-30 08:54:07.8488|2|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.              
2023-09-30 08:54:07.8488|3|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.              
2023-09-30 08:54:07.8533|2|             INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action API.Controllers.ProductController.GetProductRestaurant (API) in 906.6891ms              
2023-09-30 08:54:07.8533|1|             INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'API.Controllers.ProductController.GetProductRestaurant (API)'              
2023-09-30 08:54:07.8533|9|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMU1B0GNLHA3" completed keep alive response.              
2023-09-30 08:54:07.8533|10407|             DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'ApplicationDbContext' disposed.              
2023-09-30 08:54:07.8533|2|             INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:5001/api/Product/Restaurant/3 - - - 200 - application/json;+charset=utf-8 967.8039ms              
2023-09-30 08:54:08.4647|1|             INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5000/api/Order/UserOrders - -              
2023-09-30 08:54:08.4647|2|             TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.              
2023-09-30 08:54:08.4647|1001|             DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|2 candidate(s) found for the request path '/api/Order/UserOrders'              
2023-09-30 08:54:08.4647|1005|             DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'API.Controllers.OrderController.UserOrders (API)' with route pattern 'api/Order/UserOrders' is valid for the request path '/api/Order/UserOrders'              
2023-09-30 08:54:08.4647|1005|             DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'API.Controllers.OrderController.GetById (API)' with route pattern 'api/Order/{id}' is valid for the request path '/api/Order/UserOrders'              
2023-09-30 08:54:08.4647|1|             DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'API.Controllers.OrderController.UserOrders (API)'              
2023-09-30 08:54:08.4647|15|             DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint.              
2023-09-30 08:54:08.4647|1|             DEBUG|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Redirecting to 'https://localhost:5001/api/Order/UserOrders'.              
2023-09-30 08:54:08.4647|9|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMU1B0GNLHA2" completed keep alive response.              
2023-09-30 08:54:08.4647|2|             INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5000/api/Order/UserOrders - - - 307 0 - 0.5930ms              
2023-09-30 08:54:08.4647|1|             INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:5001/api/Order/UserOrders - -              
2023-09-30 08:54:08.4647|2|             TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.              
2023-09-30 08:54:08.4647|1001|             DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|2 candidate(s) found for the request path '/api/Order/UserOrders'              
2023-09-30 08:54:08.4647|1005|             DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'API.Controllers.OrderController.UserOrders (API)' with route pattern 'api/Order/UserOrders' is valid for the request path '/api/Order/UserOrders'              
2023-09-30 08:54:08.4647|1005|             DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'API.Controllers.OrderController.GetById (API)' with route pattern 'api/Order/{id}' is valid for the request path '/api/Order/UserOrders'              
2023-09-30 08:54:08.4647|1|             DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'API.Controllers.OrderController.UserOrders (API)'              
2023-09-30 08:54:08.4647|15|             DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint.              
2023-09-30 08:54:08.4647|0|             INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'API.Controllers.OrderController.UserOrders (API)'              
2023-09-30 08:54:08.4647|3|             INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "UserOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[API.Entities.ApiResponse`1[System.Collections.Generic.List`1[API.DTO.UserInfoDTO]]] UserOrders() on controller API.Controllers.OrderController (API).              
2023-09-30 08:54:08.4647|1|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None              
2023-09-30 08:54:08.4647|1|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None              
2023-09-30 08:54:08.4647|1|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)              
2023-09-30 08:54:08.4647|1|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None              
2023-09-30 08:54:08.4647|1|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)              
2023-09-30 08:54:08.4647|1|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller API.Controllers.OrderController (API)              
2023-09-30 08:54:08.5181|10403|             INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.22 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.22' with options: None              
2023-09-30 08:54:08.5181|2|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller API.Controllers.OrderController (API)              
2023-09-30 08:54:08.5181|2|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter.              
2023-09-30 08:54:08.5181|2|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.              
2023-09-30 08:54:08.5181|3|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.              
2023-09-30 08:54:08.5181|2|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.              
2023-09-30 08:54:08.5181|3|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.              
2023-09-30 08:54:08.5181|1|             INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method API.Controllers.OrderController.UserOrders (API) - Validation state: Valid              
2023-09-30 08:54:08.5354|10111|             DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<Order>()
    .Join(
        inner: DbSet<Cart>(), 
        outerKeySelector: o => o.Id, 
        innerKeySelector: c => c.OrderId, 
        resultSelector: (o, c) => new { 
            o = o, 
            c = c
         })
    .Join(
        inner: DbSet<Product>(), 
        outerKeySelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.c.ProductId, 
        innerKeySelector: p => p.Id, 
        resultSelector: (<>h__TransparentIdentifier0, p) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            p = p
         })
    .Join(
        inner: DbSet<User>(), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.c.UserId, 
        innerKeySelector: u => u.Id, 
        resultSelector: (<>h__TransparentIdentifier1, u) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            u = u
         })
    .GroupBy(
        keySelector: <>h__TransparentIdentifier2 => new { 
            OrderId = <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.c.OrderId, 
            FullName = <>h__TransparentIdentifier2.u.FullName, 
            PhoneNumber = <>h__TransparentIdentifier2.u.PhoneNumber, 
            Title = <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.p.Title, 
            Description = <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.p.Description
         }, 
        elementSelector: <>h__TransparentIdentifier2 => new { 
            c = <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.c, 
            p = <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.p, 
            u = <>h__TransparentIdentifier2.u
         })
    .Select(grouped => new UserInfoDTO{ 
        OrderId = grouped.Key.OrderId, 
        User = grouped.Key.FullName, 
        Title = grouped.Key.Title, 
        Description = grouped.Key.Description, 
        TotalPrice = grouped
            .Sum(x => (double)x.c.Count * x.p.Price), 
        TotalQuantity = grouped
            .Sum(x => x.c.Count) 
    }
    )
    .FirstOrDefault()'              
2023-09-30 08:54:08.5801|10103|             WARN|Microsoft.EntityFrameworkCore.Query|The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.              
2023-09-30 08:54:08.5911|10107|             DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserInfoDTO>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            OrderId -> 0
            User -> 1
            Title -> 2
            Description -> 3
            TotalPrice -> 4
            TotalQuantity -> 5
        SELECT TOP(1) c.OrderId, a.FullName AS User, p.Title, p.Description, SUM(CAST(c.Count AS float) * p.Price) AS TotalPrice, SUM(c.Count) AS TotalQuantity
        FROM Orders AS o
        INNER JOIN Carts AS c ON o.Id == c.OrderId
        INNER JOIN Products AS p ON c.ProductId == p.Id
        INNER JOIN AspNetUsers AS a ON c.UserId == a.Id
        GROUP BY c.OrderId, a.FullName, a.PhoneNumber, p.Title, p.Description), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserInfoDTO>, 
    API.Entities.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'              
2023-09-30 08:54:08.5911|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.              
2023-09-30 08:54:08.5911|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).              
2023-09-30 08:54:08.5911|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 08:54:08.5911|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 08:54:08.5911|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[OrderId], [a].[FullName] AS [User], [p].[Title], [p].[Description], COALESCE(SUM(CAST([c].[Count] AS float) * [p].[Price]), 0.0E0) AS [TotalPrice], COALESCE(SUM([c].[Count]), 0) AS [TotalQuantity]
FROM [Orders] AS [o]
INNER JOIN [Carts] AS [c] ON [o].[Id] = [c].[OrderId]
INNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [c].[UserId] = [a].[Id]
GROUP BY [c].[OrderId], [a].[FullName], [a].[PhoneNumber], [p].[Title], [p].[Description]              
2023-09-30 08:54:08.6074|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[OrderId], [a].[FullName] AS [User], [p].[Title], [p].[Description], COALESCE(SUM(CAST([c].[Count] AS float) * [p].[Price]), 0.0E0) AS [TotalPrice], COALESCE(SUM([c].[Count]), 0) AS [TotalQuantity]
FROM [Orders] AS [o]
INNER JOIN [Carts] AS [c] ON [o].[Id] = [c].[OrderId]
INNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [c].[UserId] = [a].[Id]
GROUP BY [c].[OrderId], [a].[FullName], [a].[PhoneNumber], [p].[Title], [p].[Description]              
2023-09-30 08:54:08.6074|20300|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.              
2023-09-30 08:54:08.6074|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 08:54:08.6074|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 08:54:08.6074|10111|             DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<Order>()
    .Join(
        inner: DbSet<Cart>(), 
        outerKeySelector: o => o.Id, 
        innerKeySelector: c => c.OrderId, 
        resultSelector: (o, c) => new { 
            o = o, 
            c = c
         })
    .Join(
        inner: DbSet<Product>(), 
        outerKeySelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.c.ProductId, 
        innerKeySelector: p => p.Id, 
        resultSelector: (<>h__TransparentIdentifier0, p) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            p = p
         })
    .Join(
        inner: DbSet<User>(), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.c.UserId, 
        innerKeySelector: u => u.Id, 
        resultSelector: (<>h__TransparentIdentifier1, u) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            u = u
         })
    .GroupBy(
        keySelector: <>h__TransparentIdentifier2 => new { 
            OrderId = <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.c.OrderId, 
            FullName = <>h__TransparentIdentifier2.u.FullName, 
            PhoneNumber = <>h__TransparentIdentifier2.u.PhoneNumber, 
            Title = <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.p.Title, 
            Description = <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.p.Description
         }, 
        elementSelector: <>h__TransparentIdentifier2 => new { 
            c = <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.c, 
            p = <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.p, 
            u = <>h__TransparentIdentifier2.u
         })
    .Select(grouped => new UserInfoDTO{ 
        OrderId = grouped.Key.OrderId, 
        User = grouped.Key.FullName, 
        Title = grouped.Key.Title, 
        Description = grouped.Key.Description, 
        TotalPrice = grouped
            .Sum(x => (double)x.c.Count * x.p.Price), 
        TotalQuantity = grouped
            .Sum(x => x.c.Count) 
    }
    )
    .Concat(DbSet<User>()
        .GroupJoin(
            inner: DbSet<Cart>(), 
            outerKeySelector: u => u.Id, 
            innerKeySelector: c => c.UserId, 
            resultSelector: (u, uc) => new { 
                u = u, 
                uc = uc
             })
        .SelectMany(
            collectionSelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.uc
                .DefaultIfEmpty(), 
            resultSelector: (<>h__TransparentIdentifier0, subc) => new { 
                <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
                subc = subc
             })
        .Where(<>h__TransparentIdentifier1 => (int?)<>h__TransparentIdentifier1.subc.Id == null)
        .Select(<>h__TransparentIdentifier1 => new UserInfoDTO{ 
            OrderId = __FirstOrDefault_OrderId_0, 
            User = <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.u.FullName, 
            Title = null, 
            Description = null, 
            TotalPrice = 0, 
            TotalQuantity = 0 
        }
        ))'              
2023-09-30 08:54:08.6330|10107|             DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserInfoDTO>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            OrderId -> 0
            User -> 1
            Title -> 2
            Description -> 3
            TotalPrice -> 4
            TotalQuantity -> 5
        SELECT t.OrderId, t.User, t.Title, t.Description, t.TotalPrice, t.TotalQuantity
        FROM (Projection Mapping:
                OrderId -> c.OrderId
                User -> a.FullName
                Title -> p.Title
                Description -> p.Description
                TotalPrice -> (
                    SELECT SUM(CAST(c.Count AS float) * p.Price)
                    FROM Orders AS o
                    INNER JOIN Carts AS c ON o.Id == c.OrderId
                    INNER JOIN Products AS p ON c.ProductId == p.Id
                    INNER JOIN AspNetUsers AS a ON c.UserId == a.Id
                    WHERE ((((c.OrderId == c.OrderId) && (a.FullName == a.FullName)) && (a.PhoneNumber == a.PhoneNumber)) && (p.Title == p.Title)) && (p.Description == p.Description))
                TotalQuantity -> (
                    SELECT SUM(c.Count)
                    FROM Orders AS o
                    INNER JOIN Carts AS c ON o.Id == c.OrderId
                    INNER JOIN Products AS p ON c.ProductId == p.Id
                    INNER JOIN AspNetUsers AS a ON c.UserId == a.Id
                    WHERE ((((c.OrderId == c.OrderId) && (a.FullName == a.FullName)) && (a.PhoneNumber == a.PhoneNumber)) && (p.Title == p.Title)) && (p.Description == p.Description))
            SELECT c.OrderId, a.FullName AS User, p.Title, p.Description, SUM(CAST(c.Count AS float) * p.Price) AS TotalPrice, SUM(c.Count) AS TotalQuantity
            FROM Orders AS o
            INNER JOIN Carts AS c ON o.Id == c.OrderId
            INNER JOIN Products AS p ON c.ProductId == p.Id
            INNER JOIN AspNetUsers AS a ON c.UserId == a.Id
            GROUP BY c.OrderId, a.FullName, a.PhoneNumber, p.Title, p.Description
            UNION ALL
            Projection Mapping:
                OrderId -> @__FirstOrDefault_OrderId_0
                User -> a0.FullName
                Title -> NULL
                Description -> NULL
                TotalPrice -> 0.0E0
                TotalQuantity -> 0
            SELECT @__FirstOrDefault_OrderId_0 AS OrderId, a0.FullName AS User, NULL AS Title, NULL AS Description, 0.0E0 AS TotalPrice, 0 AS TotalQuantity
            FROM AspNetUsers AS a0
            LEFT JOIN Carts AS c0 ON a0.Id == c0.UserId
            WHERE c0.Id == NULL
        ) AS t
        ), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserInfoDTO>, 
    API.Entities.ApplicationDbContext, 
    False, 
    False, 
    True
)'              
2023-09-30 08:54:08.6330|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.              
2023-09-30 08:54:08.6330|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).              
2023-09-30 08:54:08.6330|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 08:54:08.6330|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 08:54:08.6330|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__FirstOrDefault_OrderId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[OrderId], [a].[FullName] AS [User], [p].[Title], [p].[Description], COALESCE(SUM(CAST([c].[Count] AS float) * [p].[Price]), 0.0E0) AS [TotalPrice], COALESCE(SUM([c].[Count]), 0) AS [TotalQuantity]
FROM [Orders] AS [o]
INNER JOIN [Carts] AS [c] ON [o].[Id] = [c].[OrderId]
INNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [c].[UserId] = [a].[Id]
GROUP BY [c].[OrderId], [a].[FullName], [a].[PhoneNumber], [p].[Title], [p].[Description]
UNION ALL
SELECT @__FirstOrDefault_OrderId_0 AS [OrderId], [a0].[FullName] AS [User], NULL AS [Title], NULL AS [Description], 0.0E0 AS [TotalPrice], 0 AS [TotalQuantity]
FROM [AspNetUsers] AS [a0]
LEFT JOIN [Carts] AS [c0] ON [a0].[Id] = [c0].[UserId]
WHERE [c0].[Id] IS NULL              
2023-09-30 08:54:08.6330|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[@__FirstOrDefault_OrderId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[OrderId], [a].[FullName] AS [User], [p].[Title], [p].[Description], COALESCE(SUM(CAST([c].[Count] AS float) * [p].[Price]), 0.0E0) AS [TotalPrice], COALESCE(SUM([c].[Count]), 0) AS [TotalQuantity]
FROM [Orders] AS [o]
INNER JOIN [Carts] AS [c] ON [o].[Id] = [c].[OrderId]
INNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [c].[UserId] = [a].[Id]
GROUP BY [c].[OrderId], [a].[FullName], [a].[PhoneNumber], [p].[Title], [p].[Description]
UNION ALL
SELECT @__FirstOrDefault_OrderId_0 AS [OrderId], [a0].[FullName] AS [User], NULL AS [Title], NULL AS [Description], 0.0E0 AS [TotalPrice], 0 AS [TotalQuantity]
FROM [AspNetUsers] AS [a0]
LEFT JOIN [Carts] AS [c0] ON [a0].[Id] = [c0].[UserId]
WHERE [c0].[Id] IS NULL              
2023-09-30 08:54:08.6330|20300|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.              
2023-09-30 08:54:08.6330|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 08:54:08.6330|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 08:54:08.6330|2|             INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method API.Controllers.OrderController.UserOrders (API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 124.6658ms.              
2023-09-30 08:54:08.6330|2|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.              
2023-09-30 08:54:08.6330|3|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.              
2023-09-30 08:54:08.6330|2|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.              
2023-09-30 08:54:08.6330|3|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.              
2023-09-30 08:54:08.6330|3|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter.              
2023-09-30 08:54:08.6330|2|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.              
2023-09-30 08:54:08.6330|3|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.              
2023-09-30 08:54:08.6330|4|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.              
2023-09-30 08:54:08.6330|11|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter              
2023-09-30 08:54:08.6330|6|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter based on Accept header 'application/json, text/json, text/x-json, text/javascript, application/xml, text/xml'.              
2023-09-30 08:54:08.6330|2|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.              
2023-09-30 08:54:08.6330|1|             INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'API.Entities.ApiResponse`1[[System.Collections.Generic.List`1[[API.DTO.UserInfoDTO, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.              
2023-09-30 08:54:08.6330|5|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.              
2023-09-30 08:54:08.6330|2|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.              
2023-09-30 08:54:08.6330|3|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.              
2023-09-30 08:54:08.6330|2|             INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action API.Controllers.OrderController.UserOrders (API) in 176.0706ms              
2023-09-30 08:54:08.6330|1|             INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'API.Controllers.OrderController.UserOrders (API)'              
2023-09-30 08:54:08.6330|9|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMU1B0GNLHA3" completed keep alive response.              
2023-09-30 08:54:08.6330|10407|             DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'ApplicationDbContext' disposed.              
2023-09-30 08:54:08.6330|2|             INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:5001/api/Order/UserOrders - - - 200 - application/json;+charset=utf-8 179.8239ms              
2023-09-30 08:54:50.3042|19|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMU1B0GNLHA2" reset.              
2023-09-30 08:54:50.3042|19|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMU1B0GNLHA3" reset.              
2023-09-30 08:54:50.3042|7|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMU1B0GNLHA2" sending FIN because: "The Socket transport's send loop completed gracefully."              
2023-09-30 08:54:50.3042|7|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMU1B0GNLHA3" sending FIN because: "The Socket transport's send loop completed gracefully."              
2023-09-30 08:54:50.3042|10|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMU1B0GNLHA2" disconnecting.              
2023-09-30 08:54:50.3042|10|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMU1B0GNLHA3" disconnecting.              
2023-09-30 08:54:50.3042|2|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMU1B0GNLHA2" stopped.              
2023-09-30 08:54:50.3042|2|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMU1B0GNLHA3" stopped.              
2023-09-30 08:55:35.2837|12|             DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider              
2023-09-30 08:55:35.4843|10401|             DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework.              
2023-09-30 08:55:36.4134|10601|             DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.              
2023-09-30 08:55:36.4134|10601|             DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.              
2023-09-30 08:55:36.7659|10403|             INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.22 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.22' with options: None              
2023-09-30 08:55:36.8144|20400|             DEBUG|Microsoft.EntityFrameworkCore.Migrations|Migrating using database 'orderfood' on server '.'.              
2023-09-30 08:55:36.8247|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 08:55:37.1706|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 08:55:37.1817|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'.              
2023-09-30 08:55:37.1817|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (5ms).              
2023-09-30 08:55:37.2001|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1              
2023-09-30 08:55:37.2550|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (57ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1              
2023-09-30 08:55:37.2605|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 08:55:37.2605|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 08:55:37.2816|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteScalar'.              
2023-09-30 08:55:37.2816|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteScalar' (0ms).              
2023-09-30 08:55:37.2816|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 08:55:37.2816|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 08:55:37.2816|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');              
2023-09-30 08:55:37.3290|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');              
2023-09-30 08:55:37.3290|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 08:55:37.3290|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 08:55:37.3363|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 08:55:37.3363|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 08:55:37.3363|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'.              
2023-09-30 08:55:37.3363|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (0ms).              
2023-09-30 08:55:37.3363|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1              
2023-09-30 08:55:37.3363|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1              
2023-09-30 08:55:37.3363|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 08:55:37.3363|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 08:55:37.3363|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteScalar'.              
2023-09-30 08:55:37.3363|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteScalar' (0ms).              
2023-09-30 08:55:37.3363|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 08:55:37.3363|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 08:55:37.3363|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');              
2023-09-30 08:55:37.3363|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');              
2023-09-30 08:55:37.3363|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 08:55:37.3363|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 08:55:37.3656|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.              
2023-09-30 08:55:37.3656|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).              
2023-09-30 08:55:37.3656|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 08:55:37.3656|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 08:55:37.3665|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];              
2023-09-30 08:55:37.3665|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];              
2023-09-30 08:55:37.3859|20300|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.              
2023-09-30 08:55:37.3859|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 08:55:37.3859|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 08:55:37.4096|20402|             INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230929033822_tableCart'.              
2023-09-30 08:55:37.5532|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 08:55:37.5536|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 08:55:37.5536|20209|             DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'.              
2023-09-30 08:55:37.5536|20200|             DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'.              
2023-09-30 08:55:37.5536|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'.              
2023-09-30 08:55:37.5536|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (0ms).              
2023-09-30 08:55:37.5536|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Carts] (
    [Id] int NOT NULL IDENTITY,
    [ProductId] int NOT NULL,
    [Count] int NOT NULL,
    [UserId] int NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE
);              
2023-09-30 08:55:37.5752|20102|             ERROR|Microsoft.EntityFrameworkCore.Database.Command|Failed executing DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Carts] (
    [Id] int NOT NULL IDENTITY,
    [ProductId] int NOT NULL,
    [Count] int NOT NULL,
    [UserId] int NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE
);              
2023-09-30 08:55:37.6105|20204|             DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction.              
2023-09-30 08:55:37.6105|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 08:55:37.6105|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 08:55:37.6164|0|             ERROR|Program|An error occured during migration              Microsoft.Data.SqlClient.SqlException (0x80131904): There is already an object named 'Carts' in the database.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at Program.<Main>$(String[] args) in C:\Users\tien0\Downloads\OrderFood\api\Program.cs:line 49
ClientConnectionId:7840ee66-4170-4db3-827f-82296ddceef8
Error Number:2714,State:6,Class:16
2023-09-30 08:55:37.6756|1|             DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting              
2023-09-30 08:55:37.6916|63|             INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\tien0\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.              
2023-09-30 08:55:37.6975|37|             DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\tien0\AppData\Local\ASP.NET\DataProtection-Keys\key-3cad6893-7ec2-4798-a1fd-6fe2ef7dc0bd.xml'.              
2023-09-30 08:55:37.6975|18|             DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {3cad6893-7ec2-4798-a1fd-6fe2ef7dc0bd}.              
2023-09-30 08:55:37.7165|13|             DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {3cad6893-7ec2-4798-a1fd-6fe2ef7dc0bd} with expiration date 2023-12-28 02:08:48Z as default key.              
2023-09-30 08:55:37.7165|0|             DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60              
2023-09-30 08:55:37.7165|51|             DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI.              
2023-09-30 08:55:37.7165|0|             DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60              
2023-09-30 08:55:37.7165|4|             DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC.              
2023-09-30 08:55:37.7262|3|             DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC.              
2023-09-30 08:55:37.7262|2|             DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {3cad6893-7ec2-4798-a1fd-6fe2ef7dc0bd} as the default key.              
2023-09-30 08:55:37.7262|65|             DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {3cad6893-7ec2-4798-a1fd-6fe2ef7dc0bd} was loaded during application startup.              
2023-09-30 08:55:37.8186|0|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer|Using development certificate: CN=localhost (Thumbprint: 68D6AF84BF384E33F447BB662F2D80F6C92E9E5F)              
2023-09-30 08:55:37.8526|14|             INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5000              
2023-09-30 08:55:37.8526|14|             INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:5001              
2023-09-30 08:55:37.8526|13|             DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly API              
2023-09-30 08:55:37.8526|13|             DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh              
2023-09-30 08:55:37.8526|0|             INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.              
2023-09-30 08:55:37.8526|0|             INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development              
2023-09-30 08:55:37.8526|0|             INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\tien0\Downloads\OrderFood\api\              
2023-09-30 08:55:37.8526|2|             DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started              
2023-09-30 08:57:10.7501|12|             DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider              
2023-09-30 08:57:21.5386|12|             DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider              
2023-09-30 08:57:21.7743|10401|             DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework.              
2023-09-30 08:57:22.6312|10601|             DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.              
2023-09-30 08:57:22.6336|10601|             DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.              
2023-09-30 08:57:25.8231|12|             DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider              
2023-09-30 08:57:26.0138|10401|             DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework.              
2023-09-30 08:57:26.6810|10601|             DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.              
2023-09-30 08:57:26.6810|10601|             DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.              
2023-09-30 08:57:26.9814|10403|             INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.22 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.22' with options: None              
2023-09-30 08:57:27.0261|20400|             DEBUG|Microsoft.EntityFrameworkCore.Migrations|Migrating using database 'orderfood' on server '.'.              
2023-09-30 08:57:27.0261|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 08:57:27.1973|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 08:57:27.1973|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'.              
2023-09-30 08:57:27.1973|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (3ms).              
2023-09-30 08:57:27.2166|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1              
2023-09-30 08:57:27.2570|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1              
2023-09-30 08:57:27.2570|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 08:57:27.2570|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 08:57:27.2785|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteScalar'.              
2023-09-30 08:57:27.2785|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteScalar' (0ms).              
2023-09-30 08:57:27.2785|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 08:57:27.2785|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 08:57:27.2785|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');              
2023-09-30 08:57:27.3172|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');              
2023-09-30 08:57:27.3172|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 08:57:27.3172|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 08:57:27.3234|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 08:57:27.3234|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 08:57:27.3234|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'.              
2023-09-30 08:57:27.3234|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (0ms).              
2023-09-30 08:57:27.3234|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1              
2023-09-30 08:57:27.3234|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1              
2023-09-30 08:57:27.3234|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 08:57:27.3234|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 08:57:27.3234|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteScalar'.              
2023-09-30 08:57:27.3234|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteScalar' (0ms).              
2023-09-30 08:57:27.3234|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 08:57:27.3234|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 08:57:27.3234|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');              
2023-09-30 08:57:27.3234|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');              
2023-09-30 08:57:27.3234|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 08:57:27.3234|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 08:57:27.3465|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.              
2023-09-30 08:57:27.3465|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).              
2023-09-30 08:57:27.3465|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 08:57:27.3465|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 08:57:27.3465|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];              
2023-09-30 08:57:27.3527|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];              
2023-09-30 08:57:27.3527|20300|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.              
2023-09-30 08:57:27.3527|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 08:57:27.3527|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 08:57:27.3741|20402|             INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230929033822_tableCart'.              
2023-09-30 08:57:27.4574|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 08:57:27.4574|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 08:57:27.4608|20209|             DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'.              
2023-09-30 08:57:27.4608|20200|             DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'.              
2023-09-30 08:57:27.4608|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'.              
2023-09-30 08:57:27.4608|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (0ms).              
2023-09-30 08:57:27.4608|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Carts] (
    [Id] int NOT NULL IDENTITY,
    [ProductId] int NOT NULL,
    [Count] int NOT NULL,
    [UserId] int NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE
);              
2023-09-30 08:57:27.4762|20102|             ERROR|Microsoft.EntityFrameworkCore.Database.Command|Failed executing DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Carts] (
    [Id] int NOT NULL IDENTITY,
    [ProductId] int NOT NULL,
    [Count] int NOT NULL,
    [UserId] int NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE
);              
2023-09-30 08:57:27.4952|20204|             DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction.              
2023-09-30 08:57:27.4952|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 08:57:27.4952|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 08:57:27.4952|0|             ERROR|Program|An error occured during migration              Microsoft.Data.SqlClient.SqlException (0x80131904): There is already an object named 'Carts' in the database.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at Program.<Main>$(String[] args) in C:\Users\tien0\Downloads\OrderFood\api\Program.cs:line 49
ClientConnectionId:22184480-aefb-46ca-959e-8d02cae795e1
Error Number:2714,State:6,Class:16
2023-09-30 08:57:27.5287|1|             DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting              
2023-09-30 08:57:27.5410|63|             INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\tien0\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.              
2023-09-30 08:57:27.5410|37|             DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\tien0\AppData\Local\ASP.NET\DataProtection-Keys\key-3cad6893-7ec2-4798-a1fd-6fe2ef7dc0bd.xml'.              
2023-09-30 08:57:27.5410|18|             DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {3cad6893-7ec2-4798-a1fd-6fe2ef7dc0bd}.              
2023-09-30 08:57:27.5584|13|             DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {3cad6893-7ec2-4798-a1fd-6fe2ef7dc0bd} with expiration date 2023-12-28 02:08:48Z as default key.              
2023-09-30 08:57:27.5584|0|             DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60              
2023-09-30 08:57:27.5584|51|             DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI.              
2023-09-30 08:57:27.5584|0|             DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60              
2023-09-30 08:57:27.5584|4|             DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC.              
2023-09-30 08:57:27.5584|3|             DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC.              
2023-09-30 08:57:27.5584|2|             DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {3cad6893-7ec2-4798-a1fd-6fe2ef7dc0bd} as the default key.              
2023-09-30 08:57:27.5584|65|             DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {3cad6893-7ec2-4798-a1fd-6fe2ef7dc0bd} was loaded during application startup.              
2023-09-30 08:57:27.6235|0|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer|Using development certificate: CN=localhost (Thumbprint: 68D6AF84BF384E33F447BB662F2D80F6C92E9E5F)              
2023-09-30 08:57:27.6498|14|             INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5000              
2023-09-30 08:57:27.6498|14|             INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:5001              
2023-09-30 08:57:27.6498|13|             DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly API              
2023-09-30 08:57:27.6498|13|             DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh              
2023-09-30 08:57:27.6498|0|             INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.              
2023-09-30 08:57:27.6498|0|             INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development              
2023-09-30 08:57:27.6498|0|             INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\tien0\Downloads\OrderFood\api\              
2023-09-30 08:57:27.6498|2|             DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started              
2023-09-30 08:58:00.7669|39|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMU1B2MGPUD5" accepted.              
2023-09-30 08:58:00.7669|1|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMU1B2MGPUD5" started.              
2023-09-30 08:58:00.8070|1|             INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5000/api/Product/Restaurant/3 - -              
2023-09-30 08:58:00.8070|0|             DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed.              
2023-09-30 08:58:00.8070|2|             TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.              
2023-09-30 08:58:00.8590|1001|             DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Product/Restaurant/3'              
2023-09-30 08:58:00.8590|1005|             DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'API.Controllers.ProductController.GetProductRestaurant (API)' with route pattern 'api/Product/Restaurant/{restaurantId}' is valid for the request path '/api/Product/Restaurant/3'              
2023-09-30 08:58:00.8590|1|             DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'API.Controllers.ProductController.GetProductRestaurant (API)'              
2023-09-30 08:58:00.8590|15|             DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint.              
2023-09-30 08:58:00.8590|5|             DEBUG|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Https port '5001' discovered from server endpoints.              
2023-09-30 08:58:00.8670|1|             DEBUG|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Redirecting to 'https://localhost:5001/api/Product/Restaurant/3'.              
2023-09-30 08:58:00.8670|9|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMU1B2MGPUD5" completed keep alive response.              
2023-09-30 08:58:00.8670|2|             INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5000/api/Product/Restaurant/3 - - - 307 0 - 64.0646ms              
2023-09-30 08:58:00.8887|39|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMU1B2MGPUD6" accepted.              
2023-09-30 08:58:00.8887|1|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMU1B2MGPUD6" started.              
2023-09-30 08:58:00.9586|3|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HMU1B2MGPUD6 established using the following protocol: Tls13              
2023-09-30 08:58:00.9985|1|             INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:5001/api/Product/Restaurant/3 - -              
2023-09-30 08:58:00.9985|2|             TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.              
2023-09-30 08:58:00.9985|1001|             DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Product/Restaurant/3'              
2023-09-30 08:58:00.9985|1005|             DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'API.Controllers.ProductController.GetProductRestaurant (API)' with route pattern 'api/Product/Restaurant/{restaurantId}' is valid for the request path '/api/Product/Restaurant/3'              
2023-09-30 08:58:00.9985|1|             DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'API.Controllers.ProductController.GetProductRestaurant (API)'              
2023-09-30 08:58:00.9985|15|             DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint.              
2023-09-30 08:58:00.9985|0|             INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'API.Controllers.ProductController.GetProductRestaurant (API)'              
2023-09-30 08:58:01.0221|3|             INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetProductRestaurant", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[API.Entities.ApiResponse`1[System.Collections.Generic.List`1[API.DTO.ProductDto]]] GetProductRestaurant(Int32) on controller API.Controllers.ProductController (API).              
2023-09-30 08:58:01.0221|1|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None              
2023-09-30 08:58:01.0221|1|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None              
2023-09-30 08:58:01.0221|1|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)              
2023-09-30 08:58:01.0221|1|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None              
2023-09-30 08:58:01.0221|1|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)              
2023-09-30 08:58:01.0221|1|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller API.Controllers.ProductController (API)              
2023-09-30 08:58:01.0221|10403|             INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.22 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.22' with options: None              
2023-09-30 08:58:01.1133|2|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller API.Controllers.ProductController (API)              
2023-09-30 08:58:01.1158|22|             DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'restaurantId' of type 'System.Int32' ...              
2023-09-30 08:58:01.1158|44|             DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'restaurantId' of type 'System.Int32' using the name 'restaurantId' in request data ...              
2023-09-30 08:58:01.1158|45|             DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'restaurantId' of type 'System.Int32'.              
2023-09-30 08:58:01.1158|23|             DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'restaurantId' of type 'System.Int32'.              
2023-09-30 08:58:01.1158|26|             DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'restaurantId' of type 'System.Int32' ...              
2023-09-30 08:58:01.1158|27|             DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'restaurantId' of type 'System.Int32'.              
2023-09-30 08:58:01.1158|2|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter.              
2023-09-30 08:58:01.1158|2|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.              
2023-09-30 08:58:01.1158|3|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.              
2023-09-30 08:58:01.1158|2|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.              
2023-09-30 08:58:01.1158|3|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.              
2023-09-30 08:58:01.1158|1|             INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method API.Controllers.ProductController.GetProductRestaurant (API) - Validation state: Valid              
2023-09-30 08:58:01.1158|1|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method API.Controllers.ProductController.GetProductRestaurant (API) with arguments (3)              
2023-09-30 08:58:01.1662|10111|             DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<Product>()
    .Where(u => u.RestaurantId == __restaurantId_0)
    .Include("Restaurant")
    .Include("ProductImages")'              
2023-09-30 08:58:01.2332|10112|             DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'Product.Restaurant'.              
2023-09-30 08:58:01.2332|10112|             DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'Product.ProductImages'.              
2023-09-30 08:58:01.4059|10107|             DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Product>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoryId (int) Required FK Index, 1], [Property: Product.CreateBy (string) Required, 2], [Property: Product.CreateDate (DateTime) Required, 3], [Property: Product.Description (string) Required, 4], [Property: Product.Price (double) Required, 5], [Property: Product.Quantity (int) Required, 6], [Property: Product.RestaurantId (int) Required FK Index, 7], [Property: Product.Title (string) Required, 8], [Property: Product.UpdateBy (string) Required, 9], [Property: Product.UpdateDate (DateTime?), 10] }
            1 -> Dictionary<IProperty, int> { [Property: Restaurant.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: Restaurant.CloseTime (DateTime) Required, 12], [Property: Restaurant.CreateBy (string) Required, 13], [Property: Restaurant.CreateDate (DateTime) Required, 14], [Property: Restaurant.Description (string) Required, 15], [Property: Restaurant.ImageUrl (string) Required, 16], [Property: Restaurant.OpenTime (DateTime) Required, 17], [Property: Restaurant.PhoneNumber (string) Required, 18], [Property: Restaurant.RestaurantName (string) Required, 19], [Property: Restaurant.UpdateBy (string) Required, 20], [Property: Restaurant.UpdateDate (DateTime?), 21], [Property: Restaurant.UserId (int?) FK Index, 22] }
            2 -> 0
            3 -> 11
            4 -> Dictionary<IProperty, int> { [Property: ProductImage.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: ProductImage.CreateBy (string) Required, 24], [Property: ProductImage.CreateDate (DateTime) Required, 25], [Property: ProductImage.ImageUrl (string) Required, 26], [Property: ProductImage.ProductId (int) Required FK Index, 27], [Property: ProductImage.UpdateBy (string) Required, 28], [Property: ProductImage.UpdateDate (DateTime?), 29] }
            5 -> 23
        SELECT p.Id, p.CategoryId, p.CreateBy, p.CreateDate, p.Description, p.Price, p.Quantity, p.RestaurantId, p.Title, p.UpdateBy, p.UpdateDate, r.Id, r.CloseTime, r.CreateBy, r.CreateDate, r.Description, r.ImageUrl, r.OpenTime, r.PhoneNumber, r.RestaurantName, r.UpdateBy, r.UpdateDate, r.UserId, p0.Id, p0.CreateBy, p0.CreateDate, p0.ImageUrl, p0.ProductId, p0.UpdateBy, p0.UpdateDate
        FROM Products AS p
        INNER JOIN Restaurants AS r ON p.RestaurantId == r.Id
        LEFT JOIN ProductImages AS p0 ON p.Id == p0.ProductId
        WHERE p.RestaurantId == @__restaurantId_0
        ORDER BY p.Id ASC, r.Id ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
    API.Entities.ApplicationDbContext, 
    False, 
    False, 
    True
)'              
2023-09-30 08:58:01.4314|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.              
2023-09-30 08:58:01.4314|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).              
2023-09-30 08:58:01.4314|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 08:58:01.4314|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 08:58:01.4314|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__restaurantId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[CreateBy], [p].[CreateDate], [p].[Description], [p].[Price], [p].[Quantity], [p].[RestaurantId], [p].[Title], [p].[UpdateBy], [p].[UpdateDate], [r].[Id], [r].[CloseTime], [r].[CreateBy], [r].[CreateDate], [r].[Description], [r].[ImageUrl], [r].[OpenTime], [r].[PhoneNumber], [r].[RestaurantName], [r].[UpdateBy], [r].[UpdateDate], [r].[UserId], [p0].[Id], [p0].[CreateBy], [p0].[CreateDate], [p0].[ImageUrl], [p0].[ProductId], [p0].[UpdateBy], [p0].[UpdateDate]
FROM [Products] AS [p]
INNER JOIN [Restaurants] AS [r] ON [p].[RestaurantId] = [r].[Id]
LEFT JOIN [ProductImages] AS [p0] ON [p].[Id] = [p0].[ProductId]
WHERE [p].[RestaurantId] = @__restaurantId_0
ORDER BY [p].[Id], [r].[Id]              
2023-09-30 08:58:01.4624|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (27ms) [Parameters=[@__restaurantId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[CreateBy], [p].[CreateDate], [p].[Description], [p].[Price], [p].[Quantity], [p].[RestaurantId], [p].[Title], [p].[UpdateBy], [p].[UpdateDate], [r].[Id], [r].[CloseTime], [r].[CreateBy], [r].[CreateDate], [r].[Description], [r].[ImageUrl], [r].[OpenTime], [r].[PhoneNumber], [r].[RestaurantName], [r].[UpdateBy], [r].[UpdateDate], [r].[UserId], [p0].[Id], [p0].[CreateBy], [p0].[CreateDate], [p0].[ImageUrl], [p0].[ProductId], [p0].[UpdateBy], [p0].[UpdateDate]
FROM [Products] AS [p]
INNER JOIN [Restaurants] AS [r] ON [p].[RestaurantId] = [r].[Id]
LEFT JOIN [ProductImages] AS [p0] ON [p].[Id] = [p0].[ProductId]
WHERE [p].[RestaurantId] = @__restaurantId_0
ORDER BY [p].[Id], [r].[Id]              
2023-09-30 08:58:01.4866|10806|             DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.              
2023-09-30 08:58:01.5220|10806|             DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'ApplicationDbContext' started tracking 'Restaurant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.              
2023-09-30 08:58:01.5520|10806|             DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.              
2023-09-30 08:58:01.5520|10806|             DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.              
2023-09-30 08:58:01.5520|10806|             DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.              
2023-09-30 08:58:01.5520|10806|             DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.              
2023-09-30 08:58:01.5520|10806|             DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.              
2023-09-30 08:58:01.5520|10806|             DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.              
2023-09-30 08:58:01.5520|10806|             DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.              
2023-09-30 08:58:01.5520|10806|             DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.              
2023-09-30 08:58:01.5520|10806|             DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.              
2023-09-30 08:58:01.5547|20300|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.              
2023-09-30 08:58:01.5547|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 08:58:01.5547|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 08:58:01.5733|2|             INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method API.Controllers.ProductController.GetProductRestaurant (API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 448.8897ms.              
2023-09-30 08:58:01.5733|2|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.              
2023-09-30 08:58:01.5733|3|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.              
2023-09-30 08:58:01.5733|2|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.              
2023-09-30 08:58:01.5733|3|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.              
2023-09-30 08:58:01.5733|3|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter.              
2023-09-30 08:58:01.5733|2|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.              
2023-09-30 08:58:01.5733|3|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.              
2023-09-30 08:58:01.5733|4|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.              
2023-09-30 08:58:01.5733|11|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter              
2023-09-30 08:58:01.5733|6|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter based on Accept header 'application/json, text/json, text/x-json, text/javascript, application/xml, text/xml'.              
2023-09-30 08:58:01.5733|2|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.              
2023-09-30 08:58:01.5733|1|             INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'API.Entities.ApiResponse`1[[System.Collections.Generic.List`1[[API.DTO.ProductDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.              
2023-09-30 08:58:01.5934|5|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.              
2023-09-30 08:58:01.5934|2|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.              
2023-09-30 08:58:01.5934|3|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.              
2023-09-30 08:58:01.5934|2|             INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action API.Controllers.ProductController.GetProductRestaurant (API) in 570.7295ms              
2023-09-30 08:58:01.5934|1|             INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'API.Controllers.ProductController.GetProductRestaurant (API)'              
2023-09-30 08:58:01.5934|9|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMU1B2MGPUD6" completed keep alive response.              
2023-09-30 08:58:01.5934|10407|             DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'ApplicationDbContext' disposed.              
2023-09-30 08:58:01.5934|2|             INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:5001/api/Product/Restaurant/3 - - - 200 - application/json;+charset=utf-8 599.3880ms              
2023-09-30 08:58:01.9437|1|             INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:5000/api/Order/UserOrders - -              
2023-09-30 08:58:01.9437|2|             TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.              
2023-09-30 08:58:01.9437|1001|             DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|2 candidate(s) found for the request path '/api/Order/UserOrders'              
2023-09-30 08:58:01.9437|1005|             DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'API.Controllers.OrderController.UserOrders (API)' with route pattern 'api/Order/UserOrders' is valid for the request path '/api/Order/UserOrders'              
2023-09-30 08:58:01.9437|1005|             DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'API.Controllers.OrderController.GetById (API)' with route pattern 'api/Order/{id}' is valid for the request path '/api/Order/UserOrders'              
2023-09-30 08:58:01.9437|1|             DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'API.Controllers.OrderController.UserOrders (API)'              
2023-09-30 08:58:01.9437|15|             DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint.              
2023-09-30 08:58:01.9437|1|             DEBUG|Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware|Redirecting to 'https://localhost:5001/api/Order/UserOrders'.              
2023-09-30 08:58:01.9437|9|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMU1B2MGPUD5" completed keep alive response.              
2023-09-30 08:58:01.9437|2|             INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:5000/api/Order/UserOrders - - - 307 0 - 1.5608ms              
2023-09-30 08:58:01.9437|1|             INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:5001/api/Order/UserOrders - -              
2023-09-30 08:58:01.9437|2|             TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed.              
2023-09-30 08:58:01.9437|1001|             DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|2 candidate(s) found for the request path '/api/Order/UserOrders'              
2023-09-30 08:58:01.9437|1005|             DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'API.Controllers.OrderController.UserOrders (API)' with route pattern 'api/Order/UserOrders' is valid for the request path '/api/Order/UserOrders'              
2023-09-30 08:58:01.9437|1005|             DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'API.Controllers.OrderController.GetById (API)' with route pattern 'api/Order/{id}' is valid for the request path '/api/Order/UserOrders'              
2023-09-30 08:58:01.9437|1|             DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'API.Controllers.OrderController.UserOrders (API)'              
2023-09-30 08:58:01.9437|15|             DEBUG|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Static files was skipped as the request already matched an endpoint.              
2023-09-30 08:58:01.9437|0|             INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'API.Controllers.OrderController.UserOrders (API)'              
2023-09-30 08:58:01.9437|3|             INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "UserOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[API.Entities.ApiResponse`1[System.Collections.Generic.List`1[API.DTO.UserInfoDTO]]] UserOrders() on controller API.Controllers.OrderController (API).              
2023-09-30 08:58:01.9437|1|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None              
2023-09-30 08:58:01.9437|1|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None              
2023-09-30 08:58:01.9437|1|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)              
2023-09-30 08:58:01.9437|1|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None              
2023-09-30 08:58:01.9437|1|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)              
2023-09-30 08:58:01.9437|1|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller API.Controllers.OrderController (API)              
2023-09-30 08:58:02.0029|10403|             INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.22 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.22' with options: None              
2023-09-30 08:58:02.0029|2|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller API.Controllers.OrderController (API)              
2023-09-30 08:58:02.0029|2|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter.              
2023-09-30 08:58:02.0029|2|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.              
2023-09-30 08:58:02.0029|3|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.              
2023-09-30 08:58:02.0029|2|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.              
2023-09-30 08:58:02.0029|3|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.              
2023-09-30 08:58:02.0029|1|             INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method API.Controllers.OrderController.UserOrders (API) - Validation state: Valid              
2023-09-30 08:58:02.0154|10111|             DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<Order>()
    .Join(
        inner: DbSet<Cart>(), 
        outerKeySelector: o => o.Id, 
        innerKeySelector: c => c.OrderId, 
        resultSelector: (o, c) => new { 
            o = o, 
            c = c
         })
    .Join(
        inner: DbSet<Product>(), 
        outerKeySelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.c.ProductId, 
        innerKeySelector: p => p.Id, 
        resultSelector: (<>h__TransparentIdentifier0, p) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            p = p
         })
    .Join(
        inner: DbSet<User>(), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.c.UserId, 
        innerKeySelector: u => u.Id, 
        resultSelector: (<>h__TransparentIdentifier1, u) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            u = u
         })
    .GroupBy(
        keySelector: <>h__TransparentIdentifier2 => new { 
            OrderId = <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.c.OrderId, 
            FullName = <>h__TransparentIdentifier2.u.FullName, 
            PhoneNumber = <>h__TransparentIdentifier2.u.PhoneNumber, 
            Title = <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.p.Title, 
            Description = <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.p.Description, 
            Id = <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.p.Id
         }, 
        elementSelector: <>h__TransparentIdentifier2 => new { 
            c = <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.c, 
            p = <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.p, 
            u = <>h__TransparentIdentifier2.u
         })
    .Select(grouped => new UserInfoDTO{ 
        ProductId = grouped.Key.Id, 
        OrderId = grouped.Key.OrderId, 
        User = grouped.Key.FullName, 
        Title = grouped.Key.Title, 
        Description = grouped.Key.Description, 
        TotalPrice = grouped
            .Sum(x => (double)x.c.Count * x.p.Price), 
        TotalQuantity = grouped
            .Sum(x => x.c.Count) 
    }
    )
    .FirstOrDefault()'              
2023-09-30 08:58:02.0734|10103|             WARN|Microsoft.EntityFrameworkCore.Query|The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.              
2023-09-30 08:58:02.0734|10107|             DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserInfoDTO>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            ProductId -> 0
            OrderId -> 1
            User -> 2
            Title -> 3
            Description -> 4
            TotalPrice -> 5
            TotalQuantity -> 6
        SELECT TOP(1) p.Id AS ProductId, c.OrderId, a.FullName AS User, p.Title, p.Description, SUM(CAST(c.Count AS float) * p.Price) AS TotalPrice, SUM(c.Count) AS TotalQuantity
        FROM Orders AS o
        INNER JOIN Carts AS c ON o.Id == c.OrderId
        INNER JOIN Products AS p ON c.ProductId == p.Id
        INNER JOIN AspNetUsers AS a ON c.UserId == a.Id
        GROUP BY c.OrderId, a.FullName, a.PhoneNumber, p.Title, p.Description, p.Id), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserInfoDTO>, 
    API.Entities.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'              
2023-09-30 08:58:02.0879|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.              
2023-09-30 08:58:02.0879|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).              
2023-09-30 08:58:02.0879|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 08:58:02.0879|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 08:58:02.0879|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id] AS [ProductId], [c].[OrderId], [a].[FullName] AS [User], [p].[Title], [p].[Description], COALESCE(SUM(CAST([c].[Count] AS float) * [p].[Price]), 0.0E0) AS [TotalPrice], COALESCE(SUM([c].[Count]), 0) AS [TotalQuantity]
FROM [Orders] AS [o]
INNER JOIN [Carts] AS [c] ON [o].[Id] = [c].[OrderId]
INNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [c].[UserId] = [a].[Id]
GROUP BY [c].[OrderId], [a].[FullName], [a].[PhoneNumber], [p].[Title], [p].[Description], [p].[Id]              
2023-09-30 08:58:02.0879|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id] AS [ProductId], [c].[OrderId], [a].[FullName] AS [User], [p].[Title], [p].[Description], COALESCE(SUM(CAST([c].[Count] AS float) * [p].[Price]), 0.0E0) AS [TotalPrice], COALESCE(SUM([c].[Count]), 0) AS [TotalQuantity]
FROM [Orders] AS [o]
INNER JOIN [Carts] AS [c] ON [o].[Id] = [c].[OrderId]
INNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [c].[UserId] = [a].[Id]
GROUP BY [c].[OrderId], [a].[FullName], [a].[PhoneNumber], [p].[Title], [p].[Description], [p].[Id]              
2023-09-30 08:58:02.0879|20300|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.              
2023-09-30 08:58:02.0879|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 08:58:02.0879|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 08:58:02.0879|10111|             DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<Order>()
    .Join(
        inner: DbSet<Cart>(), 
        outerKeySelector: o => o.Id, 
        innerKeySelector: c => c.OrderId, 
        resultSelector: (o, c) => new { 
            o = o, 
            c = c
         })
    .Join(
        inner: DbSet<Product>(), 
        outerKeySelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.c.ProductId, 
        innerKeySelector: p => p.Id, 
        resultSelector: (<>h__TransparentIdentifier0, p) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            p = p
         })
    .Join(
        inner: DbSet<User>(), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.c.UserId, 
        innerKeySelector: u => u.Id, 
        resultSelector: (<>h__TransparentIdentifier1, u) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            u = u
         })
    .GroupBy(
        keySelector: <>h__TransparentIdentifier2 => new { 
            OrderId = <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.c.OrderId, 
            FullName = <>h__TransparentIdentifier2.u.FullName, 
            PhoneNumber = <>h__TransparentIdentifier2.u.PhoneNumber, 
            Title = <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.p.Title, 
            Description = <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.p.Description, 
            Id = <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.p.Id
         }, 
        elementSelector: <>h__TransparentIdentifier2 => new { 
            c = <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.c, 
            p = <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.p, 
            u = <>h__TransparentIdentifier2.u
         })
    .Select(grouped => new UserInfoDTO{ 
        ProductId = grouped.Key.Id, 
        OrderId = grouped.Key.OrderId, 
        User = grouped.Key.FullName, 
        Title = grouped.Key.Title, 
        Description = grouped.Key.Description, 
        TotalPrice = grouped
            .Sum(x => (double)x.c.Count * x.p.Price), 
        TotalQuantity = grouped
            .Sum(x => x.c.Count) 
    }
    )
    .Concat(DbSet<User>()
        .GroupJoin(
            inner: DbSet<Cart>(), 
            outerKeySelector: u => u.Id, 
            innerKeySelector: c => c.UserId, 
            resultSelector: (u, uc) => new { 
                u = u, 
                uc = uc
             })
        .SelectMany(
            collectionSelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.uc
                .DefaultIfEmpty(), 
            resultSelector: (<>h__TransparentIdentifier0, subc) => new { 
                <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
                subc = subc
             })
        .Where(<>h__TransparentIdentifier1 => (int?)<>h__TransparentIdentifier1.subc.Id == null)
        .Select(<>h__TransparentIdentifier1 => new UserInfoDTO{ 
            ProductId = 0, 
            OrderId = __FirstOrDefault_OrderId_0, 
            User = <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.u.FullName, 
            Title = null, 
            Description = null, 
            TotalPrice = 0, 
            TotalQuantity = 0 
        }
        ))'              
2023-09-30 08:58:02.1265|10107|             DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserInfoDTO>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            ProductId -> 0
            OrderId -> 1
            User -> 2
            Title -> 3
            Description -> 4
            TotalPrice -> 5
            TotalQuantity -> 6
        SELECT t.ProductId, t.OrderId, t.User, t.Title, t.Description, t.TotalPrice, t.TotalQuantity
        FROM (Projection Mapping:
                ProductId -> p.Id
                OrderId -> c.OrderId
                User -> a.FullName
                Title -> p.Title
                Description -> p.Description
                TotalPrice -> (
                    SELECT SUM(CAST(c.Count AS float) * p.Price)
                    FROM Orders AS o
                    INNER JOIN Carts AS c ON o.Id == c.OrderId
                    INNER JOIN Products AS p ON c.ProductId == p.Id
                    INNER JOIN AspNetUsers AS a ON c.UserId == a.Id
                    WHERE (((((c.OrderId == c.OrderId) && (a.FullName == a.FullName)) && (a.PhoneNumber == a.PhoneNumber)) && (p.Title == p.Title)) && (p.Description == p.Description)) && (p.Id == p.Id))
                TotalQuantity -> (
                    SELECT SUM(c.Count)
                    FROM Orders AS o
                    INNER JOIN Carts AS c ON o.Id == c.OrderId
                    INNER JOIN Products AS p ON c.ProductId == p.Id
                    INNER JOIN AspNetUsers AS a ON c.UserId == a.Id
                    WHERE (((((c.OrderId == c.OrderId) && (a.FullName == a.FullName)) && (a.PhoneNumber == a.PhoneNumber)) && (p.Title == p.Title)) && (p.Description == p.Description)) && (p.Id == p.Id))
            SELECT p.Id AS ProductId, c.OrderId, a.FullName AS User, p.Title, p.Description, SUM(CAST(c.Count AS float) * p.Price) AS TotalPrice, SUM(c.Count) AS TotalQuantity
            FROM Orders AS o
            INNER JOIN Carts AS c ON o.Id == c.OrderId
            INNER JOIN Products AS p ON c.ProductId == p.Id
            INNER JOIN AspNetUsers AS a ON c.UserId == a.Id
            GROUP BY c.OrderId, a.FullName, a.PhoneNumber, p.Title, p.Description, p.Id
            UNION ALL
            Projection Mapping:
                ProductId -> 0
                OrderId -> @__FirstOrDefault_OrderId_0
                User -> a0.FullName
                Title -> NULL
                Description -> NULL
                TotalPrice -> 0.0E0
                TotalQuantity -> 0
            SELECT 0 AS ProductId, @__FirstOrDefault_OrderId_0 AS OrderId, a0.FullName AS User, NULL AS Title, NULL AS Description, 0.0E0 AS TotalPrice, 0 AS TotalQuantity
            FROM AspNetUsers AS a0
            LEFT JOIN Carts AS c0 ON a0.Id == c0.UserId
            WHERE c0.Id == NULL
        ) AS t
        ), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserInfoDTO>, 
    API.Entities.ApplicationDbContext, 
    False, 
    False, 
    True
)'              
2023-09-30 08:58:02.1323|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.              
2023-09-30 08:58:02.1323|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).              
2023-09-30 08:58:02.1323|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 08:58:02.1323|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 08:58:02.1323|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__FirstOrDefault_OrderId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id] AS [ProductId], [c].[OrderId], [a].[FullName] AS [User], [p].[Title], [p].[Description], COALESCE(SUM(CAST([c].[Count] AS float) * [p].[Price]), 0.0E0) AS [TotalPrice], COALESCE(SUM([c].[Count]), 0) AS [TotalQuantity]
FROM [Orders] AS [o]
INNER JOIN [Carts] AS [c] ON [o].[Id] = [c].[OrderId]
INNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [c].[UserId] = [a].[Id]
GROUP BY [c].[OrderId], [a].[FullName], [a].[PhoneNumber], [p].[Title], [p].[Description], [p].[Id]
UNION ALL
SELECT 0 AS [ProductId], @__FirstOrDefault_OrderId_0 AS [OrderId], [a0].[FullName] AS [User], NULL AS [Title], NULL AS [Description], 0.0E0 AS [TotalPrice], 0 AS [TotalQuantity]
FROM [AspNetUsers] AS [a0]
LEFT JOIN [Carts] AS [c0] ON [a0].[Id] = [c0].[UserId]
WHERE [c0].[Id] IS NULL              
2023-09-30 08:58:02.1323|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[@__FirstOrDefault_OrderId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id] AS [ProductId], [c].[OrderId], [a].[FullName] AS [User], [p].[Title], [p].[Description], COALESCE(SUM(CAST([c].[Count] AS float) * [p].[Price]), 0.0E0) AS [TotalPrice], COALESCE(SUM([c].[Count]), 0) AS [TotalQuantity]
FROM [Orders] AS [o]
INNER JOIN [Carts] AS [c] ON [o].[Id] = [c].[OrderId]
INNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [c].[UserId] = [a].[Id]
GROUP BY [c].[OrderId], [a].[FullName], [a].[PhoneNumber], [p].[Title], [p].[Description], [p].[Id]
UNION ALL
SELECT 0 AS [ProductId], @__FirstOrDefault_OrderId_0 AS [OrderId], [a0].[FullName] AS [User], NULL AS [Title], NULL AS [Description], 0.0E0 AS [TotalPrice], 0 AS [TotalQuantity]
FROM [AspNetUsers] AS [a0]
LEFT JOIN [Carts] AS [c0] ON [a0].[Id] = [c0].[UserId]
WHERE [c0].[Id] IS NULL              
2023-09-30 08:58:02.1323|20300|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.              
2023-09-30 08:58:02.1323|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 08:58:02.1323|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 08:58:02.1323|2|             INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method API.Controllers.OrderController.UserOrders (API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 136.8015ms.              
2023-09-30 08:58:02.1323|2|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.              
2023-09-30 08:58:02.1323|3|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.              
2023-09-30 08:58:02.1323|2|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.              
2023-09-30 08:58:02.1323|3|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.              
2023-09-30 08:58:02.1323|3|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter.              
2023-09-30 08:58:02.1323|2|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.              
2023-09-30 08:58:02.1323|3|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.              
2023-09-30 08:58:02.1323|4|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.              
2023-09-30 08:58:02.1323|11|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter              
2023-09-30 08:58:02.1323|6|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter based on Accept header 'application/json, text/json, text/x-json, text/javascript, application/xml, text/xml'.              
2023-09-30 08:58:02.1323|2|             DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.              
2023-09-30 08:58:02.1323|1|             INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'API.Entities.ApiResponse`1[[System.Collections.Generic.List`1[[API.DTO.UserInfoDTO, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.              
2023-09-30 08:58:02.1323|5|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.              
2023-09-30 08:58:02.1323|2|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.              
2023-09-30 08:58:02.1323|3|             TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.              
2023-09-30 08:58:02.1323|2|             INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action API.Controllers.OrderController.UserOrders (API) in 193.049ms              
2023-09-30 08:58:02.1323|1|             INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'API.Controllers.OrderController.UserOrders (API)'              
2023-09-30 08:58:02.1323|9|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMU1B2MGPUD6" completed keep alive response.              
2023-09-30 08:58:02.1323|10407|             DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'ApplicationDbContext' disposed.              
2023-09-30 08:58:02.1323|2|             INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:5001/api/Order/UserOrders - - - 200 - application/json;+charset=utf-8 197.8862ms              
2023-09-30 08:58:23.7588|19|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMU1B2MGPUD6" reset.              
2023-09-30 08:58:23.7588|19|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMU1B2MGPUD5" reset.              
2023-09-30 08:58:23.7588|7|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMU1B2MGPUD6" sending FIN because: "The Socket transport's send loop completed gracefully."              
2023-09-30 08:58:23.7588|7|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HMU1B2MGPUD5" sending FIN because: "The Socket transport's send loop completed gracefully."              
2023-09-30 08:58:23.7588|10|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMU1B2MGPUD5" disconnecting.              
2023-09-30 08:58:23.7588|10|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMU1B2MGPUD6" disconnecting.              
2023-09-30 08:58:23.7588|2|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMU1B2MGPUD5" stopped.              
2023-09-30 08:58:23.7588|2|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HMU1B2MGPUD6" stopped.              
2023-09-30 10:15:32.5053|12|             DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider              
2023-09-30 10:15:32.8049|10401|             DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework.              
2023-09-30 10:15:33.4711|10601|             DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.              
2023-09-30 10:15:33.4711|10601|             DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.              
2023-09-30 10:15:33.7034|10403|             INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.22 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.22' with options: None              
2023-09-30 10:15:33.7623|20400|             DEBUG|Microsoft.EntityFrameworkCore.Migrations|Migrating using database 'orderfood' on server '.'.              
2023-09-30 10:15:33.7815|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 10:15:34.0800|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 10:15:34.0880|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'.              
2023-09-30 10:15:34.0880|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (3ms).              
2023-09-30 10:15:34.1018|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1              
2023-09-30 10:15:34.1318|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1              
2023-09-30 10:15:34.1318|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 10:15:34.1318|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 10:15:34.1521|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteScalar'.              
2023-09-30 10:15:34.1521|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteScalar' (0ms).              
2023-09-30 10:15:34.1521|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 10:15:34.1521|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 10:15:34.1521|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');              
2023-09-30 10:15:34.1950|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');              
2023-09-30 10:15:34.1950|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 10:15:34.1950|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 10:15:34.1950|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 10:15:34.1950|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 10:15:34.1950|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'.              
2023-09-30 10:15:34.1950|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (0ms).              
2023-09-30 10:15:34.1950|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1              
2023-09-30 10:15:34.1950|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1              
2023-09-30 10:15:34.1950|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 10:15:34.1950|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 10:15:34.1950|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteScalar'.              
2023-09-30 10:15:34.1950|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteScalar' (0ms).              
2023-09-30 10:15:34.1950|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 10:15:34.1950|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 10:15:34.1950|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');              
2023-09-30 10:15:34.1950|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');              
2023-09-30 10:15:34.1950|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 10:15:34.1950|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 10:15:34.2237|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.              
2023-09-30 10:15:34.2237|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).              
2023-09-30 10:15:34.2237|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 10:15:34.2237|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 10:15:34.2237|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];              
2023-09-30 10:15:34.2308|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];              
2023-09-30 10:15:34.2308|20300|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.              
2023-09-30 10:15:34.2308|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 10:15:34.2308|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 10:15:34.2472|20402|             INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230929033822_tableCart'.              
2023-09-30 10:15:34.3030|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 10:15:34.3030|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 10:15:34.3053|20209|             DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'.              
2023-09-30 10:15:34.3053|20200|             DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'.              
2023-09-30 10:15:34.3053|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'.              
2023-09-30 10:15:34.3053|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (0ms).              
2023-09-30 10:15:34.3053|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Carts] (
    [Id] int NOT NULL IDENTITY,
    [ProductId] int NOT NULL,
    [Count] int NOT NULL,
    [UserId] int NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE
);              
2023-09-30 10:15:34.3239|20102|             ERROR|Microsoft.EntityFrameworkCore.Database.Command|Failed executing DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Carts] (
    [Id] int NOT NULL IDENTITY,
    [ProductId] int NOT NULL,
    [Count] int NOT NULL,
    [UserId] int NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE
);              
2023-09-30 10:15:34.3509|20204|             DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction.              
2023-09-30 10:15:34.3509|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 10:15:34.3509|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 10:15:34.3509|0|             ERROR|Program|An error occured during migration              Microsoft.Data.SqlClient.SqlException (0x80131904): There is already an object named 'Carts' in the database.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at Program.<Main>$(String[] args) in C:\Users\tien0\Downloads\OrderFood\api\Program.cs:line 49
ClientConnectionId:238926d3-6fd8-49bc-94a2-215b93d765a3
Error Number:2714,State:6,Class:16
2023-09-30 10:15:34.3825|1|             DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting              
2023-09-30 10:15:34.3825|63|             INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\tien0\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.              
2023-09-30 10:15:34.4001|37|             DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\tien0\AppData\Local\ASP.NET\DataProtection-Keys\key-3cad6893-7ec2-4798-a1fd-6fe2ef7dc0bd.xml'.              
2023-09-30 10:15:34.4001|18|             DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {3cad6893-7ec2-4798-a1fd-6fe2ef7dc0bd}.              
2023-09-30 10:15:34.4145|13|             DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {3cad6893-7ec2-4798-a1fd-6fe2ef7dc0bd} with expiration date 2023-12-28 02:08:48Z as default key.              
2023-09-30 10:15:34.4145|0|             DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60              
2023-09-30 10:15:34.4145|51|             DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI.              
2023-09-30 10:15:34.4145|0|             DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60              
2023-09-30 10:15:34.4145|4|             DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC.              
2023-09-30 10:15:34.4145|3|             DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC.              
2023-09-30 10:15:34.4145|2|             DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {3cad6893-7ec2-4798-a1fd-6fe2ef7dc0bd} as the default key.              
2023-09-30 10:15:34.4145|65|             DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {3cad6893-7ec2-4798-a1fd-6fe2ef7dc0bd} was loaded during application startup.              
2023-09-30 10:15:34.5088|0|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer|Using development certificate: CN=localhost (Thumbprint: 68D6AF84BF384E33F447BB662F2D80F6C92E9E5F)              
2023-09-30 10:15:34.5466|14|             INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5000              
2023-09-30 10:15:34.5530|14|             INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:5001              
2023-09-30 10:15:34.5530|13|             DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly API              
2023-09-30 10:15:34.5530|13|             DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh              
2023-09-30 10:15:34.5530|0|             INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.              
2023-09-30 10:15:34.5530|0|             INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development              
2023-09-30 10:15:34.5530|0|             INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\tien0\Downloads\OrderFood\api\              
2023-09-30 10:15:34.5530|2|             DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started              
2023-09-30 10:22:44.7532|12|             DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider              
2023-09-30 10:22:44.9088|10401|             DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework.              
2023-09-30 10:22:45.4198|10601|             DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.              
2023-09-30 10:22:45.4198|10601|             DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.              
2023-09-30 10:22:45.6851|10403|             INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.22 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.22' with options: None              
2023-09-30 10:22:45.7287|20400|             DEBUG|Microsoft.EntityFrameworkCore.Migrations|Migrating using database 'orderfood' on server '.'.              
2023-09-30 10:22:45.7287|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 10:22:45.9293|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 10:22:45.9293|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'.              
2023-09-30 10:22:45.9293|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (2ms).              
2023-09-30 10:22:45.9450|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1              
2023-09-30 10:22:45.9726|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (28ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1              
2023-09-30 10:22:45.9756|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 10:22:45.9756|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 10:22:45.9756|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteScalar'.              
2023-09-30 10:22:45.9756|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteScalar' (0ms).              
2023-09-30 10:22:45.9756|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 10:22:45.9756|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 10:22:45.9756|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');              
2023-09-30 10:22:46.0299|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');              
2023-09-30 10:22:46.0299|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 10:22:46.0299|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 10:22:46.0299|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 10:22:46.0299|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 10:22:46.0299|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'.              
2023-09-30 10:22:46.0299|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (0ms).              
2023-09-30 10:22:46.0299|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1              
2023-09-30 10:22:46.0299|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1              
2023-09-30 10:22:46.0299|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 10:22:46.0299|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 10:22:46.0299|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteScalar'.              
2023-09-30 10:22:46.0299|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteScalar' (0ms).              
2023-09-30 10:22:46.0299|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 10:22:46.0299|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 10:22:46.0299|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');              
2023-09-30 10:22:46.0299|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');              
2023-09-30 10:22:46.0299|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 10:22:46.0299|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 10:22:46.0506|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.              
2023-09-30 10:22:46.0506|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).              
2023-09-30 10:22:46.0506|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 10:22:46.0506|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 10:22:46.0506|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];              
2023-09-30 10:22:46.0559|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];              
2023-09-30 10:22:46.0559|20300|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.              
2023-09-30 10:22:46.0559|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 10:22:46.0559|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 10:22:46.0708|20402|             INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230929033822_tableCart'.              
2023-09-30 10:22:46.1292|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 10:22:46.1292|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 10:22:46.1316|20209|             DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'.              
2023-09-30 10:22:46.1316|20200|             DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'.              
2023-09-30 10:22:46.1316|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'.              
2023-09-30 10:22:46.1316|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (0ms).              
2023-09-30 10:22:46.1316|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Carts] (
    [Id] int NOT NULL IDENTITY,
    [ProductId] int NOT NULL,
    [Count] int NOT NULL,
    [UserId] int NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE
);              
2023-09-30 10:22:46.1478|20102|             ERROR|Microsoft.EntityFrameworkCore.Database.Command|Failed executing DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Carts] (
    [Id] int NOT NULL IDENTITY,
    [ProductId] int NOT NULL,
    [Count] int NOT NULL,
    [UserId] int NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE
);              
2023-09-30 10:22:46.1750|20204|             DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction.              
2023-09-30 10:22:46.1750|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 10:22:46.1750|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 10:22:46.1791|0|             ERROR|Program|An error occured during migration              Microsoft.Data.SqlClient.SqlException (0x80131904): There is already an object named 'Carts' in the database.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at Program.<Main>$(String[] args) in C:\Users\tien0\Downloads\OrderFood\api\Program.cs:line 49
ClientConnectionId:732737fe-fb3e-4201-81f0-0dc663636b18
Error Number:2714,State:6,Class:16
2023-09-30 10:22:46.2047|1|             DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting              
2023-09-30 10:22:46.2145|63|             INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\tien0\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.              
2023-09-30 10:22:46.2145|37|             DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\tien0\AppData\Local\ASP.NET\DataProtection-Keys\key-3cad6893-7ec2-4798-a1fd-6fe2ef7dc0bd.xml'.              
2023-09-30 10:22:46.2145|18|             DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {3cad6893-7ec2-4798-a1fd-6fe2ef7dc0bd}.              
2023-09-30 10:22:46.2283|13|             DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {3cad6893-7ec2-4798-a1fd-6fe2ef7dc0bd} with expiration date 2023-12-28 02:08:48Z as default key.              
2023-09-30 10:22:46.2283|0|             DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60              
2023-09-30 10:22:46.2283|51|             DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI.              
2023-09-30 10:22:46.2283|0|             DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60              
2023-09-30 10:22:46.2283|4|             DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC.              
2023-09-30 10:22:46.2283|3|             DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC.              
2023-09-30 10:22:46.2283|2|             DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {3cad6893-7ec2-4798-a1fd-6fe2ef7dc0bd} as the default key.              
2023-09-30 10:22:46.2283|65|             DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {3cad6893-7ec2-4798-a1fd-6fe2ef7dc0bd} was loaded during application startup.              
2023-09-30 10:22:46.2758|0|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer|Using development certificate: CN=localhost (Thumbprint: 68D6AF84BF384E33F447BB662F2D80F6C92E9E5F)              
2023-09-30 10:22:46.2946|14|             INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5000              
2023-09-30 10:22:46.2946|14|             INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:5001              
2023-09-30 10:22:46.2946|13|             DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly API              
2023-09-30 10:22:46.2946|13|             DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh              
2023-09-30 10:22:46.2946|0|             INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.              
2023-09-30 10:22:46.2946|0|             INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development              
2023-09-30 10:22:46.2946|0|             INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\tien0\Downloads\OrderFood\api\              
2023-09-30 10:22:46.2946|2|             DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started              
2023-09-30 10:25:14.2748|12|             DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider              
2023-09-30 10:25:14.4297|10401|             DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework.              
2023-09-30 10:25:15.0744|10601|             DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.              
2023-09-30 10:25:15.0744|10601|             DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.              
2023-09-30 10:25:15.3426|10403|             INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.22 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.22' with options: None              
2023-09-30 10:25:15.3886|20400|             DEBUG|Microsoft.EntityFrameworkCore.Migrations|Migrating using database 'orderfood' on server '.'.              
2023-09-30 10:25:15.3984|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 10:25:15.5871|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 10:25:15.5871|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'.              
2023-09-30 10:25:15.5871|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (2ms).              
2023-09-30 10:25:15.6044|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1              
2023-09-30 10:25:15.6380|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (34ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1              
2023-09-30 10:25:15.6380|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 10:25:15.6475|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 10:25:15.6475|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteScalar'.              
2023-09-30 10:25:15.6475|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteScalar' (0ms).              
2023-09-30 10:25:15.6475|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 10:25:15.6475|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 10:25:15.6475|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');              
2023-09-30 10:25:15.6841|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');              
2023-09-30 10:25:15.6841|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 10:25:15.6841|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 10:25:15.6841|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 10:25:15.6841|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 10:25:15.6841|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'.              
2023-09-30 10:25:15.6841|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (0ms).              
2023-09-30 10:25:15.6841|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1              
2023-09-30 10:25:15.6841|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1              
2023-09-30 10:25:15.6841|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 10:25:15.6841|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 10:25:15.6841|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteScalar'.              
2023-09-30 10:25:15.6841|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteScalar' (0ms).              
2023-09-30 10:25:15.6841|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 10:25:15.6841|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 10:25:15.6841|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');              
2023-09-30 10:25:15.6841|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');              
2023-09-30 10:25:15.6841|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 10:25:15.6841|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 10:25:15.7051|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'.              
2023-09-30 10:25:15.7051|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms).              
2023-09-30 10:25:15.7051|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 10:25:15.7051|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 10:25:15.7051|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];              
2023-09-30 10:25:15.7110|20101|             INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];              
2023-09-30 10:25:15.7110|20300|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader was disposed.              
2023-09-30 10:25:15.7110|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 10:25:15.7110|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 10:25:15.7292|20402|             INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20230929033822_tableCart'.              
2023-09-30 10:25:15.8084|20000|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'orderfood' on server '.'.              
2023-09-30 10:25:15.8084|20001|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'orderfood' on server '.'.              
2023-09-30 10:25:15.8084|20209|             DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'.              
2023-09-30 10:25:15.8191|20200|             DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'.              
2023-09-30 10:25:15.8191|20103|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteNonQuery'.              
2023-09-30 10:25:15.8191|20104|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteNonQuery' (0ms).              
2023-09-30 10:25:15.8191|20100|             DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Carts] (
    [Id] int NOT NULL IDENTITY,
    [ProductId] int NOT NULL,
    [Count] int NOT NULL,
    [UserId] int NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE
);              
2023-09-30 10:25:15.8191|20102|             ERROR|Microsoft.EntityFrameworkCore.Database.Command|Failed executing DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Carts] (
    [Id] int NOT NULL IDENTITY,
    [ProductId] int NOT NULL,
    [Count] int NOT NULL,
    [UserId] int NOT NULL,
    [OrderId] int NOT NULL,
    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE
);              
2023-09-30 10:25:15.8441|20204|             DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction.              
2023-09-30 10:25:15.8441|20002|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'orderfood' on server '.'.              
2023-09-30 10:25:15.8441|20003|             DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'orderfood' on server '.'.              
2023-09-30 10:25:15.8441|0|             ERROR|Program|An error occured during migration              Microsoft.Data.SqlClient.SqlException (0x80131904): There is already an object named 'Carts' in the database.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at Program.<Main>$(String[] args) in C:\Users\tien0\Downloads\OrderFood\api\Program.cs:line 49
ClientConnectionId:6f8f6e0a-6113-4c9b-bff7-19d366e5d6d6
Error Number:2714,State:6,Class:16
2023-09-30 10:25:15.8731|1|             DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting              
2023-09-30 10:25:15.8836|63|             INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\tien0\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.              
2023-09-30 10:25:15.8836|37|             DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\tien0\AppData\Local\ASP.NET\DataProtection-Keys\key-3cad6893-7ec2-4798-a1fd-6fe2ef7dc0bd.xml'.              
2023-09-30 10:25:15.8836|18|             DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {3cad6893-7ec2-4798-a1fd-6fe2ef7dc0bd}.              
2023-09-30 10:25:15.8976|13|             DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {3cad6893-7ec2-4798-a1fd-6fe2ef7dc0bd} with expiration date 2023-12-28 02:08:48Z as default key.              
2023-09-30 10:25:15.8976|0|             DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60              
2023-09-30 10:25:15.8976|51|             DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI.              
2023-09-30 10:25:15.8976|0|             DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60              
2023-09-30 10:25:15.8976|4|             DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC.              
2023-09-30 10:25:15.8976|3|             DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC.              
2023-09-30 10:25:15.8976|2|             DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {3cad6893-7ec2-4798-a1fd-6fe2ef7dc0bd} as the default key.              
2023-09-30 10:25:15.8976|65|             DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {3cad6893-7ec2-4798-a1fd-6fe2ef7dc0bd} was loaded during application startup.              
2023-09-30 10:25:15.9561|0|             DEBUG|Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer|Using development certificate: CN=localhost (Thumbprint: 68D6AF84BF384E33F447BB662F2D80F6C92E9E5F)              
2023-09-30 10:25:15.9787|14|             INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5000              
2023-09-30 10:25:15.9787|14|             INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:5001              
2023-09-30 10:25:15.9787|13|             DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly API              
2023-09-30 10:25:15.9787|13|             DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh              
2023-09-30 10:25:15.9787|0|             INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.              
2023-09-30 10:25:15.9787|0|             INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development              
2023-09-30 10:25:15.9787|0|             INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\tien0\Downloads\OrderFood\api\              
2023-09-30 10:25:15.9787|2|             DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started              
