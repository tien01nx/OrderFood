{ "time": "2023-10-02 12:28:31.8565", "event": "20102", "level": "ERROR", "logger": "Microsoft.EntityFrameworkCore.Database.Command", "message": "Failed executing DbCommand (93ms) [Parameters=[], CommandType='Text', CommandTimeout='30']\r\nCREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "elapsed": "93", "parameters": "", "commandType": "Text", "commandTimeout": 30, "newLine": "\r\n", "commandText": "CREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "EventId": 20102, "EventName": "Microsoft.EntityFrameworkCore.Database.Command.CommandError" }
{ "time": "2023-10-02 12:28:31.9117", "event": "0", "level": "ERROR", "logger": "Program", "message": "An error occured during migration", "exception": "Microsoft.Data.SqlClient.SqlException (0x80131904): There is already an object named 'Carts' in the database.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)\r\n   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at Program.<Main>$(String[] args) in C:\\Users\\tien0\\Downloads\\OrderFood\\api\\Program.cs:line 49\r\nClientConnectionId:d2f60f95-5c32-4e6e-8b6e-36b688bb8dff\r\nError Number:2714,State:6,Class:16" }
{ "time": "2023-10-02 12:28:32.2908", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: http://localhost:5000", "address": "http://localhost:5000", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-02 12:28:32.3087", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: https://localhost:5001", "address": "https://localhost:5001", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-02 12:28:32.3087", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Application started. Press Ctrl+C to shut down." }
{ "time": "2023-10-02 12:28:32.3087", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Hosting environment: Development", "envName": "Development" }
{ "time": "2023-10-02 12:28:32.3087", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Content root path: C:\\Users\\tien0\\Downloads\\OrderFood\\api\\", "contentRoot": "C:\\Users\\tien0\\Downloads\\OrderFood\\api\\" }
{ "time": "2023-10-02 12:29:42.3786", "event": "10103", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Query", "message": "The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.", "url": "https://localhost/api/Order/UserOrders", "action": "UserOrders", "EventId": 10103, "EventName": "Microsoft.EntityFrameworkCore.Query.FirstWithoutOrderByAndFilterWarning" }
{ "time": "2023-10-02 13:09:42.8518", "event": "20102", "level": "ERROR", "logger": "Microsoft.EntityFrameworkCore.Database.Command", "message": "Failed executing DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']\r\nCREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "elapsed": "4", "parameters": "", "commandType": "Text", "commandTimeout": 30, "newLine": "\r\n", "commandText": "CREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "EventId": 20102, "EventName": "Microsoft.EntityFrameworkCore.Database.Command.CommandError" }
{ "time": "2023-10-02 13:09:42.8787", "event": "0", "level": "ERROR", "logger": "Program", "message": "An error occured during migration", "exception": "Microsoft.Data.SqlClient.SqlException (0x80131904): There is already an object named 'Carts' in the database.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)\r\n   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at Program.<Main>$(String[] args) in C:\\Users\\tien0\\Downloads\\OrderFood\\api\\Program.cs:line 49\r\nClientConnectionId:b79bbac8-c69c-41f3-bdde-72c9cc173359\r\nError Number:2714,State:6,Class:16" }
{ "time": "2023-10-02 13:09:43.0520", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: http://localhost:5000", "address": "http://localhost:5000", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-02 13:09:43.0520", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: https://localhost:5001", "address": "https://localhost:5001", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-02 13:09:43.0520", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Application started. Press Ctrl+C to shut down." }
{ "time": "2023-10-02 13:09:43.0520", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Hosting environment: Development", "envName": "Development" }
{ "time": "2023-10-02 13:09:43.0520", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Content root path: C:\\Users\\tien0\\Downloads\\OrderFood\\api\\", "contentRoot": "C:\\Users\\tien0\\Downloads\\OrderFood\\api\\" }
{ "time": "2023-10-02 13:10:34.2377", "event": "20102", "level": "ERROR", "logger": "Microsoft.EntityFrameworkCore.Database.Command", "message": "Failed executing DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']\r\nCREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "elapsed": "3", "parameters": "", "commandType": "Text", "commandTimeout": 30, "newLine": "\r\n", "commandText": "CREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "EventId": 20102, "EventName": "Microsoft.EntityFrameworkCore.Database.Command.CommandError" }
{ "time": "2023-10-02 13:10:34.2538", "event": "0", "level": "ERROR", "logger": "Program", "message": "An error occured during migration", "exception": "Microsoft.Data.SqlClient.SqlException (0x80131904): There is already an object named 'Carts' in the database.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)\r\n   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at Program.<Main>$(String[] args) in C:\\Users\\tien0\\Downloads\\OrderFood\\api\\Program.cs:line 49\r\nClientConnectionId:6686aab9-473b-4ff8-a2f3-0038ebedb9a7\r\nError Number:2714,State:6,Class:16" }
{ "time": "2023-10-02 13:10:34.3789", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: http://localhost:5000", "address": "http://localhost:5000", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-02 13:10:34.3789", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: https://localhost:5001", "address": "https://localhost:5001", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-02 13:10:34.3789", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Application started. Press Ctrl+C to shut down." }
{ "time": "2023-10-02 13:10:34.3789", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Hosting environment: Development", "envName": "Development" }
{ "time": "2023-10-02 13:10:34.3789", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Content root path: C:\\Users\\tien0\\Downloads\\OrderFood\\api\\", "contentRoot": "C:\\Users\\tien0\\Downloads\\OrderFood\\api\\" }
{ "time": "2023-10-02 13:34:27.5352", "event": "20102", "level": "ERROR", "logger": "Microsoft.EntityFrameworkCore.Database.Command", "message": "Failed executing DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']\r\nCREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "elapsed": "4", "parameters": "", "commandType": "Text", "commandTimeout": 30, "newLine": "\r\n", "commandText": "CREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "EventId": 20102, "EventName": "Microsoft.EntityFrameworkCore.Database.Command.CommandError" }
{ "time": "2023-10-02 13:34:27.5665", "event": "0", "level": "ERROR", "logger": "Program", "message": "An error occured during migration", "exception": "Microsoft.Data.SqlClient.SqlException (0x80131904): There is already an object named 'Carts' in the database.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)\r\n   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at Program.<Main>$(String[] args) in C:\\Users\\tien0\\Downloads\\OrderFood\\api\\Program.cs:line 49\r\nClientConnectionId:7d4c254b-fc86-44a7-8cbe-48f7721f3df6\r\nError Number:2714,State:6,Class:16" }
{ "time": "2023-10-02 13:34:27.7128", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: http://localhost:5000", "address": "http://localhost:5000", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-02 13:34:27.7128", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: https://localhost:5001", "address": "https://localhost:5001", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-02 13:34:27.7128", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Application started. Press Ctrl+C to shut down." }
{ "time": "2023-10-02 13:34:27.7128", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Hosting environment: Development", "envName": "Development" }
{ "time": "2023-10-02 13:34:27.7128", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Content root path: C:\\Users\\tien0\\Downloads\\OrderFood\\api\\", "contentRoot": "C:\\Users\\tien0\\Downloads\\OrderFood\\api\\" }
{ "time": "2023-10-02 13:34:39.3715", "event": "10103", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Query", "message": "The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.", "url": "https://localhost/api/Order/UserOrders", "action": "UserOrders", "EventId": 10103, "EventName": "Microsoft.EntityFrameworkCore.Query.FirstWithoutOrderByAndFilterWarning" }
{ "time": "2023-10-02 15:17:44.8187", "event": "20102", "level": "ERROR", "logger": "Microsoft.EntityFrameworkCore.Database.Command", "message": "Failed executing DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']\r\nCREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "elapsed": "7", "parameters": "", "commandType": "Text", "commandTimeout": 30, "newLine": "\r\n", "commandText": "CREATE TABLE [Carts] (\r\n    [Id] int NOT NULL IDENTITY,\r\n    [ProductId] int NOT NULL,\r\n    [Count] int NOT NULL,\r\n    [UserId] int NOT NULL,\r\n    [OrderId] int NOT NULL,\r\n    CONSTRAINT [PK_Carts] PRIMARY KEY ([Id]),\r\n    CONSTRAINT [FK_Carts_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE CASCADE,\r\n    CONSTRAINT [FK_Carts_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([Id]) ON DELETE CASCADE\r\n);", "EventId": 20102, "EventName": "Microsoft.EntityFrameworkCore.Database.Command.CommandError" }
{ "time": "2023-10-02 15:17:44.8485", "event": "0", "level": "ERROR", "logger": "Program", "message": "An error occured during migration", "exception": "Microsoft.Data.SqlClient.SqlException (0x80131904): There is already an object named 'Carts' in the database.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)\r\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)\r\n   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at Program.<Main>$(String[] args) in C:\\Users\\tien0\\Downloads\\OrderFood\\api\\Program.cs:line 49\r\nClientConnectionId:d4b49dc3-b355-4473-b728-c75d265c2edd\r\nError Number:2714,State:6,Class:16" }
{ "time": "2023-10-02 15:17:45.0188", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: http://localhost:5000", "address": "http://localhost:5000", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-02 15:17:45.0223", "event": "14", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Now listening on: https://localhost:5001", "address": "https://localhost:5001", "EventId": 14, "EventName": "ListeningOnAddress" }
{ "time": "2023-10-02 15:17:45.0223", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Application started. Press Ctrl+C to shut down." }
{ "time": "2023-10-02 15:17:45.0223", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Hosting environment: Development", "envName": "Development" }
{ "time": "2023-10-02 15:17:45.0223", "event": "0", "level": "INFO", "logger": "Microsoft.Hosting.Lifetime", "message": "Content root path: C:\\Users\\tien0\\Downloads\\OrderFood\\api\\", "contentRoot": "C:\\Users\\tien0\\Downloads\\OrderFood\\api\\" }
{ "time": "2023-10-02 15:24:01.2816", "event": "10103", "level": "WARN", "logger": "Microsoft.EntityFrameworkCore.Query", "message": "The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.", "url": "https://localhost/api/Order/UserOrders", "action": "UserOrders", "EventId": 10103, "EventName": "Microsoft.EntityFrameworkCore.Query.FirstWithoutOrderByAndFilterWarning" }
